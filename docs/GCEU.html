<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emilio Coronado">
<meta name="dcterms.date" content="2025-11-06">

<title>Analisis temporal de la expulsion de gases de efecto invernadero europeos – Gases de Efecto Invernadero en Europa</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-cc63fce9873912f1bbbccf05079cc9ea.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>

<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>

<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-binding-2.2.3/leaflet.js"></script>

<script src="site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>

<script src="site_libs/leaflet-providers-plugin-2.2.3/leaflet-providers-plugin.js"></script>

<link href="site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">

<script src="site_libs/dygraphs-1.1.1/dygraph-combined.js"></script>

<script src="site_libs/dygraphs-1.1.1/shapes.js"></script>

<script src="site_libs/moment-2.8.4/moment.js"></script>

<script src="site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>

<script src="site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>

<script src="site_libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>

<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script>

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>



</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Gases de Efecto Invernadero en Europa</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./GCEU.html" aria-current="page"> 
<span class="menu-text">Informe</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#resumen" id="toc-resumen" class="nav-link active" data-scroll-target="#resumen">Resumen</a>
  <ul class="collapse">
  <li><a href="#obtención-y-tratamiento-de-los-datos." id="toc-obtención-y-tratamiento-de-los-datos." class="nav-link" data-scroll-target="#obtención-y-tratamiento-de-los-datos.">Obtención y tratamiento de los datos.</a>
  <ul class="collapse">
  <li><a href="#obtención-de-los-datos-a-traves-de-la-libreria-de-eurostat" id="toc-obtención-de-los-datos-a-traves-de-la-libreria-de-eurostat" class="nav-link" data-scroll-target="#obtención-de-los-datos-a-traves-de-la-libreria-de-eurostat">Obtención de los datos a traves de la libreria de eurostat</a></li>
  <li><a href="#depuración-de-los-datos-a-través-de-la-libreria-dplyer" id="toc-depuración-de-los-datos-a-través-de-la-libreria-dplyer" class="nav-link" data-scroll-target="#depuración-de-los-datos-a-través-de-la-libreria-dplyer">Depuración de los datos a través de la libreria dplyer</a></li>
  </ul></li>
  <li><a href="#mapeo-y-visualización-de-los-datos." id="toc-mapeo-y-visualización-de-los-datos." class="nav-link" data-scroll-target="#mapeo-y-visualización-de-los-datos.">Mapeo y visualización de los datos.</a>
  <ul class="collapse">
  <li><a href="#obtención-de-las-cartografias." id="toc-obtención-de-las-cartografias." class="nav-link" data-scroll-target="#obtención-de-las-cartografias.">Obtención de las cartografias.</a></li>
  <li><a href="#unión-con-los-datos." id="toc-unión-con-los-datos." class="nav-link" data-scroll-target="#unión-con-los-datos.">Unión con los datos.</a></li>
  <li><a href="#transformación-del-mapa-para-la-visualización." id="toc-transformación-del-mapa-para-la-visualización." class="nav-link" data-scroll-target="#transformación-del-mapa-para-la-visualización.">Transformación del mapa para la visualización.</a></li>
  </ul></li>
  <li><a href="#depuración-de-los-datos-y-transformación-a-series-temporales." id="toc-depuración-de-los-datos-y-transformación-a-series-temporales." class="nav-link" data-scroll-target="#depuración-de-los-datos-y-transformación-a-series-temporales.">Depuración de los datos y transformación a series temporales.</a></li>
  <li><a href="#metodologia-box_jenkins" id="toc-metodologia-box_jenkins" class="nav-link" data-scroll-target="#metodologia-box_jenkins">Metodologia Box_Jenkins</a>
  <ul class="collapse">
  <li><a href="#primera-etapaestacionarización-de-las-series." id="toc-primera-etapaestacionarización-de-las-series." class="nav-link" data-scroll-target="#primera-etapaestacionarización-de-las-series.">Primera Etapa:Estacionarización de las series.</a></li>
  <li><a href="#segunda-etapamodelización-de-las-series." id="toc-segunda-etapamodelización-de-las-series." class="nav-link" data-scroll-target="#segunda-etapamodelización-de-las-series.">Segunda Etapa:Modelización de las series.</a></li>
  <li><a href="#tercera-etapa-predicción." id="toc-tercera-etapa-predicción." class="nav-link" data-scroll-target="#tercera-etapa-predicción.">Tercera etapa: Predicción.</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analisis temporal de la expulsion de gases de efecto invernadero europeos</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Emilio Coronado </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 6, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="resumen" class="level1">
<h1>Resumen</h1>
<p>Este proyecto consiste en el estudio de las series temporales sobre un caso práctico. Se implementaran para ello diversos métodos estadísticos con el fin de crear modelos que se ajusten lo mejor posible a nuestro caso practico. Tales métodos como los modelos ARIMA nos permitirán modelar y predecir estos procesos estocásticos. Además de estas técnicas se utilizarán cartografías para la previsualización de estas series temporales.</p>
<p>El estudio de nuestro caso práctico recopila información de los gases de efecto invernadero expulsados por la unión europea desde el año 2008 hasta el primer cuatrimestre de 2025.</p>
<section id="obtención-y-tratamiento-de-los-datos." class="level2">
<h2 class="anchored" data-anchor-id="obtención-y-tratamiento-de-los-datos.">Obtención y tratamiento de los datos.</h2>
<section id="obtención-de-los-datos-a-traves-de-la-libreria-de-eurostat" class="level3">
<h3 class="anchored" data-anchor-id="obtención-de-los-datos-a-traves-de-la-libreria-de-eurostat">Obtención de los datos a traves de la libreria de eurostat</h3>
<p>Los datos utilizados para este estudio los obtenemos via eurostat. Este es el enlace: <a href="https://ec.europa.eu/eurostat/databrowser/view/env_ac_aigg_q/default/table?lang=en" class="uri">https://ec.europa.eu/eurostat/databrowser/view/env_ac_aigg_q/default/table?lang=en</a></p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(eurostat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'eurostat' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">=</span> <span class="fu">get_eurostat</span>(<span class="st">"env_ac_aigg_q"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Dataset query already saved in cache_list.json...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Reading cache file C:\Users\emk\AppData\Local\Temp\RtmpUnnzvx/eurostat/6c1f659ce62d01cfc685172c15dfcbe6.rds</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Table  env_ac_aigg_q  read from cache file:  C:\Users\emk\AppData\Local\Temp\RtmpUnnzvx/eurostat/6c1f659ce62d01cfc685172c15dfcbe6.rds</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(datos<span class="sc">$</span>unit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PCH_SM" "THS_T"  "T_HAB" </code></pre>
</div>
</div>
<p>Los datos descargados son un un proceso estocastico que transcurre desde el 2010-01-01 hasta el 2023-01-01 y va aumentando de forma trimestral periodicamente.</p>
</section>
<section id="depuración-de-los-datos-a-través-de-la-libreria-dplyer" class="level3">
<h3 class="anchored" data-anchor-id="depuración-de-los-datos-a-través-de-la-libreria-dplyer">Depuración de los datos a través de la libreria dplyer</h3>
<p>La principal variable de medición de interés es THS_T (Toneladas de gases de efecto invernadero expulsados).</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>datosTT <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unit<span class="sc">==</span><span class="st">"THS_T"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Este primer filtrado de los datos se realiza para la posterior visualización y mapeo de los paises europeos.</p>
</section>
</section>
<section id="mapeo-y-visualización-de-los-datos." class="level2">
<h2 class="anchored" data-anchor-id="mapeo-y-visualización-de-los-datos.">Mapeo y visualización de los datos.</h2>
<section id="obtención-de-las-cartografias." class="level3">
<h3 class="anchored" data-anchor-id="obtención-de-las-cartografias.">Obtención de las cartografias.</h3>
<p>Para la creación de los mapas es necesario la descarga de una cartografía que contenga los paises de la Unión Europea y esto lo realizamos a través de la página de eurostat. Este es el enlace: <a href="https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts" class="uri">https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts</a></p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'sf' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tmap' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>EU_MAP<span class="ot">&lt;-</span><span class="fu">st_read</span>(<span class="st">"C:/EMILIO/UNIVERSIDAD/2022-2023/segundo cuatrimestre/TFG/NUTS_RG_60M_2021_3035.shp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `NUTS_RG_60M_2021_3035' from data source 
  `C:\EMILIO\UNIVERSIDAD\2022-2023\segundo cuatrimestre\TFG\NUTS_RG_60M_2021_3035.shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 2010 features and 9 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2823672 ymin: -3077410 xmax: 10027630 ymax: 6401639
Projected CRS: ETRS89-extended / LAEA Europe</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(EU_MAP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   NUTS_ID            LEVL_CODE      CNTR_CODE          NAME_LATN        
 Length:2010        Min.   :0.000   Length:2010        Length:2010       
 Class :character   1st Qu.:3.000   Class :character   Class :character  
 Mode  :character   Median :3.000   Mode  :character   Mode  :character  
                    Mean   :2.654                                        
                    3rd Qu.:3.000                                        
                    Max.   :3.000                                        
                                                                         
  NUTS_NAME           MOUNT_TYPE      URBN_TYPE       COAST_TYPE   
 Length:2010        Min.   :0.000   Min.   :0.000   Min.   :0.000  
 Class :character   1st Qu.:2.000   1st Qu.:1.000   1st Qu.:1.000  
 Mode  :character   Median :4.000   Median :2.000   Median :2.000  
                    Mean   :2.709   Mean   :1.536   Mean   :1.768  
                    3rd Qu.:4.000   3rd Qu.:2.000   3rd Qu.:3.000  
                    Max.   :4.000   Max.   :3.000   Max.   :3.000  
                    NA's   :1                                      
     FID                     geometry   
 Length:2010        MULTIPOLYGON :2010  
 Class :character   epsg:3035    :   0  
 Mode  :character   +proj=laea...:   0  
                                        
                                        
                                        
                                        </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(EU_MAP<span class="sc">$</span>LEVL_CODE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   3.000   3.000   2.654   3.000   3.000 </code></pre>
</div>
</div>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(EU_MAP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: ETRS89-extended / LAEA Europe 
  wkt:
PROJCRS["ETRS89-extended / LAEA Europe",
    BASEGEOGCRS["ETRS89",
        ENSEMBLE["European Terrestrial Reference System 1989 ensemble",
            MEMBER["European Terrestrial Reference Frame 1989"],
            MEMBER["European Terrestrial Reference Frame 1990"],
            MEMBER["European Terrestrial Reference Frame 1991"],
            MEMBER["European Terrestrial Reference Frame 1992"],
            MEMBER["European Terrestrial Reference Frame 1993"],
            MEMBER["European Terrestrial Reference Frame 1994"],
            MEMBER["European Terrestrial Reference Frame 1996"],
            MEMBER["European Terrestrial Reference Frame 1997"],
            MEMBER["European Terrestrial Reference Frame 2000"],
            MEMBER["European Terrestrial Reference Frame 2005"],
            MEMBER["European Terrestrial Reference Frame 2014"],
            MEMBER["European Terrestrial Reference Frame 2020"],
            ELLIPSOID["GRS 1980",6378137,298.257222101,
                LENGTHUNIT["metre",1]],
            ENSEMBLEACCURACY[0.1]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4258]],
    CONVERSION["Europe Equal Area 2001",
        METHOD["Lambert Azimuthal Equal Area",
            ID["EPSG",9820]],
        PARAMETER["Latitude of natural origin",52,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",10,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["False easting",4321000,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",3210000,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["northing (Y)",north,
            ORDER[1],
            LENGTHUNIT["metre",1]],
        AXIS["easting (X)",east,
            ORDER[2],
            LENGTHUNIT["metre",1]],
    USAGE[
        SCOPE["Statistical analysis."],
        AREA["Europe - European Union (EU) countries and candidates. Europe - onshore and offshore: Albania; Andorra; Austria; Belgium; Bosnia and Herzegovina; Bulgaria; Croatia; Cyprus; Czechia; Denmark; Estonia; Faroe Islands; Finland; France; Germany; Gibraltar; Greece; Hungary; Iceland; Ireland; Italy; Kosovo; Latvia; Liechtenstein; Lithuania; Luxembourg; Malta; Monaco; Montenegro; Netherlands; North Macedonia; Norway including Svalbard and Jan Mayen; Poland; Portugal including Madeira and Azores; Romania; San Marino; Serbia; Slovakia; Slovenia; Spain including Canary Islands; Sweden; Switzerland; Türkiye (Turkey); United Kingdom (UK) including Channel Islands and Isle of Man; Vatican City State."],
        BBOX[24.6,-35.58,84.73,44.83]],
    ID["EPSG",3035]]</code></pre>
</div>
</div>
<p>Obtenemos el sistema de referencia que se utiliza en esta cartografía, así como los paises y sus repectivas islas ilustradas en el.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(EU_MAP)<span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Las graficamos para visualizar y observamos como la cartografia contiene a parte de los paises todos los respectivos multipoligonos asociados a los pueblos y las comunidades autonomas.Por eso es necesario realizar un filtro en la cartografia y quedarnos solo con los NUTS=0 es decir los paises.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>EU_MAP <span class="ot">&lt;-</span> EU_MAP <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(LEVL_CODE<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(EU_MAP)<span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Una vez que nuestra cartografia se coresponde con nuestro objetivo de estudio es momento de unir los datos a la cartografia. Pero nuestra base de datos no contiene informacion de todos los paises pertenecientes a la cartografia por tanto habrá que unirlos solo para los que tenemos información.</p>
</section>
<section id="unión-con-los-datos." class="level3">
<h3 class="anchored" data-anchor-id="unión-con-los-datos.">Unión con los datos.</h3>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>EU_mapa<span class="ot">&lt;-</span>dplyr<span class="sc">::</span><span class="fu">left_join</span>(EU_MAP, datosTT, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"NUTS_ID"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>EU_mapa <span class="ot">&lt;-</span> EU_mapa <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(values <span class="sc">!=</span> <span class="st">"NA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="transformación-del-mapa-para-la-visualización." class="level3">
<h3 class="anchored" data-anchor-id="transformación-del-mapa-para-la-visualización.">Transformación del mapa para la visualización.</h3>
<p>Filtramos un trimestre aleatorio para visualizar si todo esta en orden.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>EU_mapa2207 <span class="ot">&lt;-</span> EU_mapa <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(TIME_PERIOD<span class="sc">==</span><span class="st">"2024-07-01"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(EU_mapa2207,)<span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">palette =</span><span class="st">"Blues"</span>,<span class="at">col =</span> <span class="st">"values"</span>,<span class="at">style =</span> <span class="st">"quantile"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── tmap v3 code detected ───────────────────────────────────────────────────────</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>[v3-&gt;v4] `tm_polygons()`: instead of `style = "quantile"`, use fill.scale =
`tm_scale_intervals()`.
ℹ Migrate the argument(s) 'style', 'palette' (rename to 'values') to
  'tm_scale_intervals(&lt;HERE&gt;)'
[v3-&gt;v4] `tm_polygons()`: use 'fill' for the fill color of polygons/symbols
(instead of 'col'), and 'col' for the outlines (instead of 'border.col').
[cols4all] color palettes: use palettes from the R package cols4all. Run
`cols4all::c4a_gui()` to explore them. The old palette name "Blues" is named
"brewer.blues"
Multiple palettes called "blues" found: "brewer.blues", "matplotlib.blues". The first one, "brewer.blues", is returned.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La cartografia por culpa de las islas de algunos paises queda muy alejada y la visualización no es buena, por lo que transformamos la caja para visualizar mejor.</p>
<p>Generamos una BBDD con las medias de los valores de cada pais a lo largo del tiempo para poder visualizar bien la importancia de cada país.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>EU_mapa_media <span class="ot">&lt;-</span> EU_mapa <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(NUTS_NAME) <span class="sc">%&gt;%</span>        </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">media_value =</span> <span class="fu">mean</span>(values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#ahora visualizamos la importancia de cada país.</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ tmap modes "plot" - "view"
ℹ toggle with `tmap::ttm()`</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>bbox_eu <span class="ot">&lt;-</span> <span class="fu">st_bbox</span>(<span class="fu">c</span>(<span class="at">xmin =</span> <span class="sc">-</span><span class="dv">20</span>, <span class="at">ymin =</span> <span class="dv">30</span>, <span class="at">xmax =</span> <span class="dv">40</span>, <span class="at">ymax =</span> <span class="dv">67</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(EU_mapa_media, <span class="at">bbox =</span> bbox_eu) <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"media_value"</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill.scale =</span> <span class="fu">tm_scale</span>(</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">14000</span>, <span class="dv">36000</span>, <span class="dv">68000</span>, <span class="dv">92000</span>, <span class="dv">150000</span>, <span class="dv">280000</span>),</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">values =</span> <span class="st">"brewer.yl_or_rd"</span>,  <span class="co"># antes: "YlOrRd"</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"≤ 14k"</span>, <span class="st">"14k – 36k"</span>, <span class="st">"36k – 68k"</span>, <span class="st">"68k – 92k"</span>, <span class="st">"92k - 150k"</span>,<span class="st">"&gt;150k"</span>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill.legend =</span> <span class="fu">tm_legend</span>(<span class="at">title =</span> <span class="st">"Toneladas GEI expulsadas"</span>, <span class="at">outside =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_view</span>(<span class="at">view.zoom =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_title</span>(<span class="st">"Emisiones de Gases de Efecto Invernadero en media en Europa 2008-2024"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<style>#legend01 { background: #FFFFFF; opacity: 1}</style>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-e0dada522734fe10d03e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e0dada522734fe10d03e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"attributionControl":true},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"EU_mapa_media",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[5.566283500680628,5.798273999950995,5.766125499713965,5.687622000205604,5.81905199964373,6.020999000468382,6.31555599987046,6.405028500632099,6.137662499619886,6.024899500190217,5.746318999426853,5.818117000648816,5.734555999587654,5.470883000610939,5.393511000302065,5.153738500541567,4.969431000343632,4.792791635670533,4.432494000508112,4.233133000149057,4.140853000543934,4.027774500134034,3.740666119600057,3.655510000360056,3.615081500303402,3.38973029140298,3.245293999911774,3.098480999859393,3.018708499688168,3.014893250725093,3.011207669453883,3.005893541803713,2.983272000435903,2.972211144602141,2.964159310062121,2.956621972102881,2.940102999474727,2.937994250460892,2.94416143337115,2.93715000020262,2.930551593046379,2.930049450615464,2.922303000109475,2.911644597696449,2.909228493702458,2.900403000081946,2.886391175658149,2.87014400000956,2.863276000308946,2.60703599967161,2.546010999286971,2.749051499767507,3.110688500575901,3.365787499520589,3.380660999615269,3.856339499895886,3.977666500499581,4.234817500634277,4.242048999846458,4.243669499474116,4.279564999441186,4.669544000696091,4.759925999755643,5.102179999796609,5.237716500375433,5.566283500680628],"lat":[51.22083649685648,51.05985349699016,51.00871549744253,50.81192399721566,50.71455749689909,50.7542954975419,50.49704249690281,50.32330849710851,50.12995149728143,50.18277949725897,49.8535949972199,49.54631049701187,49.54569049635584,49.49723799658363,49.61711099716204,49.71792599706065,49.80182599687954,50.1470005735905,49.94161599661626,49.95782849724701,49.9787599971209,50.35833049719671,50.35804456882506,50.46173549672815,50.49039899738649,50.54527836905303,50.71300949711862,50.77901899697927,50.77353299672745,50.77357666792895,50.7702001530571,50.76608034070411,50.75717149696572,50.75021143298297,50.74995772906926,50.75293833906945,50.74534999703666,50.74019422528983,50.73203701811395,50.73003749715238,50.7262462440458,50.71166088312356,50.70279299674711,50.70309960284378,50.69446624916206,50.69327149672429,50.70570356686839,50.70289999709549,50.70834349697329,50.91268949744538,51.0893819972857,51.16176999703771,51.31225949703016,51.36983549707979,51.27429949722445,51.21105599683484,51.22513199738098,51.34825399685661,51.35396699733928,51.37472949731428,51.37601749705927,51.42638399743606,51.50246449683099,51.42900499761211,51.26160049690648,51.22083649685648]}]],[[{"lng":[15.16289822206257,15.09404091630902,14.94799500920579,14.69680441658252,14.77400317729236,14.94799501055975,15.16289822206257],"lat":[55.09370769116445,54.99622273291195,55.00111322479825,55.13063435190309,55.27541430988114,55.21791826003646,55.09370769116445]}],[{"lng":[12.5827535003092,12.5841254991918,12.75031866675029,12.61920162234893,12.50179331729899,12.363470999788,12.21957049927001,12.29118084675471,11.95733404377697,11.37558873574966,11.47968252563795,11.22615865675507,11.23255839761475,11.52586700384622,11.9424474074712,12.1495069416658,12.51759257862771,12.52503113553288,12.5827535003092],"lat":[55.80796799831942,55.72200149778476,55.64909094080974,55.57150550907991,55.62744720288477,55.59380699826318,55.425061998236,55.20700519557668,54.68348138492357,54.81331825065391,55.05245413976078,55.31285409399385,55.64307836506917,55.85835630676195,55.82234364629451,56.09501596771834,56.05621085284459,55.91145201802364,55.80796799831942]}],[{"lng":[10.88365095088789,10.80370479164018,10.42822335428796,10.30715128164343,9.765642712593261,10.04549027343296,10.69475562069606,10.88365095088789],"lat":[55.03719244665938,54.87435113154703,54.88347068783119,54.88347068829336,55.3689856929259,55.56881367324244,55.54378420369486,55.03719244665938]}],[{"lng":[10.19899510024249,10.81820822427444,10.85085663911952,9.945743758386865,9.672056999278551,9.838410513492573,9.622945592678231,9.422194996663761,9.273634571520263,9.113096999694223,8.889034334521185,8.635926000204172,8.189706002404591,8.183677060210615,8.190695924902158,8.672808602762991,8.889034334636264,9.304829828512613,9.065945194046469,8.889034335317746,8.717289385538887,8.32488200000029,8.631655182413208,8.889034334269432,10.28299019905936,10.49565308606381,10.19899510024249],"lat":[56.68363098737618,56.48960056854447,56.32279410884112,55.73049340927161,55.71205699801686,54.99900425552769,54.88181271811191,54.83203333649688,54.81168988616908,54.87360149773508,54.89148322685075,54.91168299783992,55.56291270904976,55.82234364584103,56.55312778922526,56.52699146055601,56.71464843790436,56.69295221205399,56.92849298945064,56.92432700551237,56.72620380183023,56.83850618449891,57.10180769696854,57.1206446518508,57.59814036129654,57.35106854330436,56.68363098737618]}]],[[{"lng":[9.113096999694223,9.273634571520263,9.422194996663761,9.468529195820263,9.491949500346694,9.778117246674798,9.794372014132438,10.16851700016923,10.17416199990661,10.71375049976252,11.00639756671911,10.84132645373622,10.90366149932079,11.56177849935153,11.9984844997567,12.20106799959679,12.28553049976684,13.25309132392344,13.54798631402012,13.31939600013858,14.22630200020974,14.21307749992208,14.09822413811109,14.26754200047287,14.41215699946797,14.14365799930245,14.15669200016519,14.43643799924141,14.56506299969424,14.53436200042091,14.60089150059982,14.75522699947791,14.71671600034328,14.72986199967174,14.97418299995595,14.82336199935742,14.61879999951754,14.49122099933954,14.31787350044266,14.15119522896733,13.65217399955625,13.50184599942526,12.94814450015157,12.58377849932872,12.10090049936998,12.1606790005304,12.26079900062543,12.55098849954485,12.40152399969517,12.59377850048549,12.63376349989792,13.17090800029722,13.41665150052883,13.55157850026421,13.83950700057198,13.79610700026377,13.72709050029178,13.50972891560303,13.5065939754653,13.50311656682991,13.50626782539682,13.50416587642775,13.49378119550633,13.4916156512459,13.4855062917533,13.47653548519814,13.47508000026866,13.4632689772031,13.45641658248805,13.177042999643,12.94468449988485,12.75155500023585,12.86018150048966,12.87578549935821,12.95925268049657,13.04605549965052,12.69579550053478,12.57502649945589,12.33804550004766,12.06066200056998,11.85717350274938,11.63288300032061,11.41021899983802,11.42142749978065,11.0165005004914,10.99120249939669,10.88619900038519,10.45443900013067,10.41897481418619,10.17835300052403,9.999525999601634,9.96781349970122,9.558720500163837,9.495604000170335,9.182192000045427,8.670461000415381,8.663353999388345,8.613831499490093,8.510114999468039,8.514870824471506,8.426434499748623,7.89410749978897,7.713784499986338,7.634096999467771,7.589038999372886,7.545990500026766,7.581396898646974,7.577290999350919,7.577919500325343,7.680712999933494,7.959630500158948,8.232633000467123,8.068407499711531,7.910654499368299,7.635650999987216,7.368755500413975,7.26427999338213,7.101069000590075,6.723465500659737,6.556985999593649,6.367107500642876,6.380052499379405,6.474962499985653,6.137662499619886,6.405028500632099,6.31555599987046,6.020999000468382,6.086947500446958,5.87708499989153,6.174811999490471,6.07265700042561,6.224404999807778,5.953192000131062,6.167765999381292,6.407779500657244,6.681671345751186,6.760465000715235,7.065684999402139,7.004076893796925,6.697865500044754,6.709732500094647,7.006229499764741,7.092692000538151,7.202794500516835,7.208935000362406,7.264299999648985,7.092746015249456,7.49173905181174,7.809895499494337,8.091291000684986,8.142206152365139,8.061327000641437,8.195554999999599,8.554898000586126,8.520410499331822,8.613333980917162,8.687172500309048,8.889034334759344,9.01851249947461,9.273634571660626,9.199751000057391,8.832591999794088,8.844804500116799,8.635926000204172,8.889034334521185,9.113096999694223],"lat":[54.87360149773508,54.81168988616908,54.83203333649688,54.81723170779935,54.82263549813194,54.72773912713905,54.5624672051587,54.43284499809908,54.34574549765045,54.30507249796405,54.32319432543498,53.99193534143918,53.95682199794934,54.02808849763111,54.17496999749862,54.24469549801601,54.27495199740799,54.56839420580656,54.43625385813134,54.19350599768288,53.92865299784879,53.86647949767278,53.76540503873537,53.69780649728951,53.3296359976461,52.9613684978295,52.89559099734847,52.67990049715461,52.62449699764079,52.39500799743416,52.27205199743371,52.07002499741785,52.00118799779353,51.58177699706952,51.36394999688826,50.87055049673487,50.85780449699739,51.04353049687027,51.05469899685217,50.85157125546365,50.73035999731431,50.63364299732363,50.40431149740247,50.40707899673749,50.31802799724137,50.21984899654852,50.05815649678419,49.90508799663728,49.75837299663414,49.5421914968727,49.47619499661693,49.17357949624027,48.98003549673545,48.96778749691597,48.77160499685365,48.71360049658865,48.5130194963931,48.58995070474763,48.58956176112315,48.5836919591938,48.5765095718546,48.57301172532303,48.56920341258278,48.56480772837478,48.56238693128793,48.56334848766355,48.55598649653168,48.55444195346588,48.55879994974065,48.29438999633536,48.20669249615214,48.11281049637825,47.99663999619015,47.96260899631394,47.87540091601176,47.52050249631849,47.68222299649297,47.63231599593422,47.69708749611499,47.61874349592356,47.60200461185751,47.5924459962414,47.49532399602032,47.44485199644151,47.39636799631396,47.39613099640226,47.53684799641604,47.55579699617069,47.3881369169636,47.27011399620052,47.48301699645436,47.54624049619986,47.54189299619502,47.55145499629359,47.65589049589691,47.68486249620923,47.6858924965457,47.80107899595924,47.77619049626333,47.62721029264976,47.56754899592886,47.58637499592662,47.53940499605429,47.5611134963727,47.58987799601327,47.74357399610447,47.91453421768603,48.11565499644617,48.12139199671378,48.25726699677963,48.71858099632725,48.9665714966733,48.99931649676465,49.04516349663641,49.05395049670877,49.16145799643074,49.13379756589984,49.15599799657778,49.21882899642556,49.41920849669859,49.4695069971157,49.55110499702536,49.82127499661688,50.12995149728143,50.32330849710851,50.49704249690281,50.7542954975419,50.91313499671926,51.03210099752791,51.18451349721843,51.24258749714144,51.36497899752626,51.74784599739578,51.90080449774766,51.82809199771934,51.93242002300305,52.11856949714148,52.24137299723088,52.39960571504412,52.48628599745744,52.62782349767834,52.63876299735807,52.83820099750125,53.11328149788546,53.24306449767148,53.32552649741314,53.37251383688335,53.68003486033114,53.70766199753567,53.63810899809464,53.55502522662333,53.50595699728574,53.40917149721887,53.52513099756663,53.60620499771701,53.76540503864506,53.89190799804449,53.8571411435527,53.83484099762917,53.86742491456658,53.88010449733682,54.0239294981123,54.2663284977426,54.91168299783992,54.89148322685075,54.87360149773508]}],[{"lng":[8.707664011406775,8.478108599223926,8.324632955309243,8.476317963501831,8.707664011406775],"lat":[53.94049247438822,53.81048480870692,53.8376417351293,54.05270750758348,53.94049247438822]}],[{"lng":[8.054720193655251,7.982673656944711,7.635770838690215,7.898156253275834,8.054720193655251],"lat":[54.25083931210953,53.99245802895469,54.26773968953454,54.34257920054393,54.25083931210953]}]],[[{"lng":[27.35704950040094,27.6449083464914,27.35157899944501,26.45486990736648,25.04630700043052,24.83408250066366,24.35281750028654,24.51087405944117,23.96055241962763,23.52114579282896,23.51831923010706,23.73057600048133,25.83015950007771,26.01528036711481,26.75935700045082,28.0419149998053,28.12019545408536,27.35704950040094],"lat":[58.78714399854502,57.98102155633569,57.51823699869383,57.55492747842469,58.04014599834846,57.97277949788196,57.87655649847783,58.29450657717977,58.29112556445958,58.5818433693889,59.14057900236755,59.23732399878183,59.56406449818841,59.61946808671043,59.49942549865992,59.47012049826671,59.35258144137531,58.78714399854502]}],[{"lng":[23.01273979049451,22.89169156153249,23.19949380683757,23.16002134248412,22.48831888173768,22.11534678111929,21.90442388785824,22.46040042820168,22.61034671056132,23.01273979049451],"lat":[58.8771985902849,58.63883783169959,58.64727140524863,58.47135768273694,58.15354071254171,58.17836112696678,58.42817423461389,58.63150006436121,59.05302671382398,58.8771985902849]}]],[[{"lng":[4.391037526273447,4.190661611365112,3.906763519946743,4.158595089473284,4.391037526273447],"lat":[39.86172717482565,39.79806899465741,39.99861969152096,40.10707655588087,39.86172717482565]}],[{"lng":[-7.031837000476878,-5.853529024473637,-4.512300999503251,-3.373935246750002,-3.15333799990738,-2.786280660026506,-2.459229208872951,-2.122950366743787,-1.893272128402137,-1.785978000066504,-1.769396165593627,-1.728903000452494,-1.438879990948893,-0.7245009995754865,-0.3133419994165897,0.4777554997205034,0.6601269999091283,0.7453067293635109,0.8582149998232076,1.329800955905256,1.442566000320036,1.495604397521775,1.72580099997092,1.731010999590947,3.174804000141275,3.075814301560419,2.778512999554299,1.645323500369281,0.9299560099525157,0.7453067292251266,0.5152385000827705,-0.1884670000594382,-0.296027788809834,-0.03761599960957252,0.1442156159420221,-0.4319338841620911,-0.762135500042368,-1.630033000077701,-1.785876667668182,-1.893272127488119,-2.097876002413389,-2.786280659950618,-3.128691000378656,-3.373935246877844,-3.777457499473083,-4.379822459980216,-5.252404999822365,-5.339224999745901,-5.351522499841308,-5.36936668554815,-5.423464911328487,-5.44557176045372,-5.595122020359239,-5.792573302624985,-5.906845721207888,-6.035531916949142,-6.408662540916199,-6.430010602033605,-6.345561000396847,-6.945123200440755,-7.401916499512664,-7.512691500170416,-7.445669996660811,-6.931738499572051,-7.107952500478152,-7.275830141859886,-7.203134999866442,-7.020894825575509,-7.231467000447574,-7.542929000267073,-7.010638566264319,-6.951298499951906,-6.865144000059051,-6.802239096432173,-6.929903499873229,-6.689786000242049,-6.479713000174508,-6.300772837366666,-6.63746093579006,-6.985800500423303,-7.200464499513853,-8.051862500375552,-8.165075500514568,-8.199000500416636,-8.86318599983165,-8.785963111017388,-8.726749500299519,-8.962065725342862,-9.209262636476101,-9.133560573214442,-8.990482726068231,-8.628890417499049,-8.323930221064282,-7.699736499865689,-7.601385854506489,-7.031837000476878],"lat":[43.54447149421768,43.61201762757391,43.39320399482199,43.40818096317615,43.35322199473752,43.43053321876641,43.33467722428567,43.33467722506086,43.34544761140056,43.35047899432353,43.33467722462304,43.29608899468171,43.25794122856345,42.92015849486809,42.84936499428449,42.70001999455564,42.69095249404959,42.74891283414668,42.82574099458955,42.69991676894766,42.60366799425847,42.47356772650202,42.50440199440514,42.49240099429961,42.43537499446791,41.9496334740445,41.64880749426699,41.1956214935667,40.97730117221295,40.77499132862196,40.52291849329672,39.72195449285791,39.37739380145297,38.8864134922248,38.70609869622118,38.37806051245686,37.8470079920768,37.37518299217668,37.18053376192277,37.04639649471328,36.79084561341332,36.76416088911742,36.75088799135692,36.74598833454269,36.7379264913446,36.69865732247238,36.31127549113759,36.15203499126073,36.15256899094958,36.15537331927524,36.16746009050551,36.07137363024676,36.01485988451839,36.08172579352182,36.17603542346205,36.19202303959256,36.6705396061088,36.73747991673947,36.79876699123014,37.15934579580049,37.17482749167448,37.52625649154733,37.69404027568366,38.20837799281501,38.18812149212187,38.45387634213768,38.75101749250344,39.0127117087577,39.2784309930504,39.66281499317501,39.73634547062418,40.25744599283343,40.2706944935034,40.52879303070794,41.02946649327472,41.20524149352153,41.29437999375889,41.59238494374226,41.89837996342592,41.97144699396211,41.87974949391091,41.82061399427731,41.81830199378128,42.1544189936503,41.87206649406882,42.33402618402003,42.68825149470332,42.63026505397023,42.97897168009229,43.08073981351077,43.27308285922771,43.33467722479249,43.38662476167485,43.73511499513941,43.67310873016185,43.54447149421768]}],[{"lng":[2.409424483879382,2.781592955470313,3.027163614511218,3.14134979779177,3.340218027887952,3.446893920492254,3.224491096397999,3.04857466228435,2.790114774228666,2.635417456422373,2.525866436260467,2.409424483879382],"lat":[39.5909562956687,39.85109521985022,39.92856291422498,39.77098048896859,39.78506626521709,39.65655871663518,39.36428422246003,39.27176476462382,39.36747947618227,39.56780912029582,39.46089128558182,39.5909562956687]}],[{"lng":[1.574731468749221,1.38461817246476,1.132750633842928,1.246271598968838,1.574731468749221],"lat":[39.04045755473091,38.80218687418639,38.87456718350776,39.07890543071463,39.04045755473091]}],[{"lng":[-2.937043999183453,-2.932300496546218,-2.969832895649755,-2.95248649977263,-2.94585755879167,-2.945698370358214,-2.93199316990202,-2.935947674047418,-2.937043999183453],"lat":[35.2826083924053,35.2775710516142,35.29327422799333,35.31976899081022,35.31408959582394,35.30770888680018,35.29341299322327,35.29136543298517,35.2826083924053]}],[{"lng":[-5.348897417383579,-5.336303568678009,-5.325161550637758,-5.314558488033674,-5.301913041387872,-5.29782625955649,-5.287883316694993,-5.279202746484212,-5.280131363548329,-5.28798219081501,-5.306182553694642,-5.319587742658488,-5.328074059397666,-5.337814624200307,-5.343370631714718,-5.381935500082403,-5.377675091145266,-5.36497463820025,-5.348897417383579],"lat":[35.90782137102769,35.89517678228711,35.89991827282832,35.88989189936213,35.89370579723889,35.9009703303468,35.90591326524617,35.89990500245171,35.89548280806304,35.89096034251413,35.8848986187765,35.88635670877093,35.87932888847102,35.87812495028989,35.87087625792396,35.91302349088547,35.9159689657067,35.91667741981269,35.90782137102769]}],[{"lng":[-13.43711853261181,-13.79954463090416,-13.87703608834232,-13.85548082025437,-13.46108245478881,-13.43711853261181],"lat":[29.00216980856592,28.85850320065808,28.93947576088154,29.0357590213683,29.15652114665125,29.00216980856592]}],[{"lng":[-13.90454193480992,-14.24216712468328,-14.03918788322923,-13.87402936676108,-13.80038598491687,-13.90454193480992],"lat":[28.23153821222337,28.20112650504635,28.61497576752839,28.79749292909627,28.61009393463262,28.23153821222337]}],[{"lng":[-15.3729518155837,-15.60108750919887,-15.84998262923364,-15.70411938848141,-15.41717348245492,-15.3729518155837],"lat":[27.85089919193884,27.72046607862073,27.97173392656461,28.16283222732776,28.15715700327404,27.85089919193884]}],[{"lng":[-16.42570223574152,-16.70835617656977,-16.92651418359593,-16.52290244611288,-16.31821747528802,-16.2224437818093,-16.42570223574152],"lat":[28.15042545484407,28.00821215151348,28.35220967627189,28.41845927934517,28.57984850793084,28.53058391448366,28.15042545484407]}],[{"lng":[-17.00395383455917,-17.25536419768444,-17.43285993089112,-17.28166541516539,-17.00395383455917],"lat":[28.08004426545155,27.95167338405745,28.08851338017914,28.29085581104353,28.08004426545155]}],[{"lng":[-17.73614098360525,-17.87918419682066,-18.04073590095225,-17.75900330575868,-17.73614098360525],"lat":[28.54519713077664,28.49266230278867,28.79337622665896,28.87161898060283,28.54519713077664]}],[{"lng":[-17.80238204091631,-17.97805068872453,-18.2622665442813,-17.86729084514343,-17.80238204091631],"lat":[27.85581903868389,27.56646481194086,27.71008158395856,27.91741493064342,27.85581903868389]}]],[[{"lng":[55.84982838825272,55.7858132667581,55.33043010609494,55.20195397607359,55.44708861405515,55.65292073308233,55.84982838825272],"lat":[-21.18577920570549,-21.3756519791954,-21.28758996957948,-21.03504087231189,-20.85965489017801,-20.9055880356563,-21.18577920570549]}],[{"lng":[45.33921785976634,45.2392209551837,45.02227029403765,45.10905758803332,45.33921785976634],"lat":[-12.71428700762403,-13.05346332945343,-12.9228954636497,-12.68084180951274,-12.71428700762403]}],[{"lng":[8.619964317539592,9.411850805562135,9.40219750055269,9.349669245019733,9.241020637028731,8.987180870563549,8.893410672988901,8.73413614270479,8.619964317539592],"lat":[42.37317306295894,42.79703530171698,41.85866599368731,41.73313084866419,41.47347595144245,41.51364763417284,41.7331308486695,42.1059367783654,42.37317306295894]}],[{"lng":[2.863276000308946,2.87014400000956,2.886391175658149,2.900403000081946,2.909228493702458,2.911644597696449,2.922303000109475,2.930049450615464,2.930551593046379,2.93715000020262,2.94416143337115,2.937994250460892,2.940102999474727,2.956621972102881,2.964159310062121,2.972211144602141,2.983272000435903,3.005893541803713,3.011207669453883,3.014893250725093,3.018708499688168,3.098480999859393,3.245293999911774,3.38973029140298,3.615081500303402,3.655510000360056,3.740666119600057,4.027774500134034,4.140853000543934,4.233133000149057,4.432494000508112,4.792791635670533,4.969431000343632,5.153738500541567,5.393511000302065,5.470883000610939,5.734555999587654,5.818117000648816,5.893386000650713,6.367107500642876,6.556985999593649,6.723465500659737,7.101069000590075,7.26427999338213,7.368755500413975,7.635650999987216,7.910654499368299,8.068407499711531,8.232633000467123,7.959630500158948,7.680712999933494,7.577919500325343,7.577290999350919,7.581396898646974,7.545990500026766,7.589038999372886,7.555159500507895,7.510905499361894,7.380894000262369,7.130353000440072,6.939185999472231,6.858361992611222,6.860184000246422,6.46296887108628,6.138106000549979,6.064002999793321,6.125608000370019,5.956067000084031,6.177574939945717,6.241360000563653,6.462968870803216,6.821063999669152,7.0448859995451,6.802368499932678,7.10472299937582,7.13108347557018,6.630050999465158,7.065754999766035,6.948443000160549,6.887427999785783,7.714236499759504,7.529827000206691,7.439249000208951,7.437357999713769,7.412929673690595,7.410282962226077,7.414657701252464,6.931325500048978,6.46296887069547,5.671879500150771,4.230280500111713,4.101083500414399,3.563086626293891,3.40700787577551,3.240515999558903,3.043406500388171,3.05231986431593,3.174804000141275,1.731010999590947,1.72580099997092,1.786098499561265,1.442566000320036,1.329800955905256,0.8582149998232076,0.7453067293635109,0.6601269999091283,0.4777554997205034,-0.3133419994165897,-0.7245009995754865,-1.438879990948893,-1.728903000452494,-1.769396165593627,-1.785978000066504,-1.524757500324758,-1.254086000445197,-1.13933153254598,-0.7148254996640939,-1.143827027438677,-1.162515167528693,-1.785876667447061,-1.89327212801265,-2.015835431313597,-1.980464499421558,-2.458476000331033,-2.786280659405746,-3.091564905942432,-3.373935246706921,-3.52300150044429,-4.325126343175382,-4.36427729352367,-4.659266466688234,-4.434180996969022,-3.659154000214863,-3.373935247202347,-3.122082482800309,-2.786280660207723,-1.94805100048755,-1.571100000080364,-1.761348991840695,-1.410084403968212,-1.11958749969427,0.2972214999250135,0.644300500360892,0.6910815810498666,0.7453067287196696,0.7453067295710644,0.7453067294387199,0.1167141075182838,0.2717489792466788,0.7453067296843382,1.379640000241587,1.6447370000781,1.578478379039885,1.647184465526181,2.067691499578513,2.546010999286971,2.60703599967161,2.863276000308946],"lat":[50.70834349697329,50.70289999709549,50.70570356686839,50.69327149672429,50.69446624916206,50.70309960284378,50.70279299674711,50.71166088312356,50.7262462440458,50.73003749715238,50.73203701811395,50.74019422528983,50.74534999703666,50.75293833906945,50.74995772906926,50.75021143298297,50.75717149696572,50.76608034070411,50.7702001530571,50.77357666792895,50.77353299672745,50.77901899697927,50.71300949711862,50.54527836905303,50.49039899738649,50.46173549672815,50.35804456882506,50.35833049719671,49.9787599971209,49.95782849724701,49.94161599661626,50.1470005735905,49.80182599687954,49.71792599706065,49.61711099716204,49.49723799658363,49.54569049635584,49.54631049701187,49.49694449723473,49.4695069971157,49.41920849669859,49.21882899642556,49.15599799657778,49.13379756589984,49.16145799643074,49.05395049670877,49.04516349663641,48.99931649676465,48.9665714966733,48.71858099632725,48.25726699677963,48.12139199671378,48.11565499644617,47.91453421768603,47.74357399610447,47.58987799601327,47.56456399658146,47.50258249620394,47.43189249579235,47.50304049595559,47.43370449615888,47.167234969196,47.16545999583452,46.85113111017608,46.5576669956498,46.41622899600064,46.31722999589285,46.13209549607383,46.18160657563742,46.34358249627364,46.43201233010935,46.42715449605594,45.92241299579047,45.77856199537759,45.46845449577965,45.26707164679345,45.1098564952331,44.71346449506679,44.65474199505032,44.36128699493257,44.0615134945276,43.78400799445327,43.74901949443701,43.75163249506251,43.73278226893887,43.72934965346802,43.72657068923168,43.48025799438403,43.15668405298408,43.17926899477529,43.46018349442957,43.5547054949306,43.34100026496209,43.27900205017888,43.21286749498675,42.83817249467843,42.68926111721832,42.43537499446791,42.49240099429961,42.50440199440514,42.57365799423307,42.60366799425847,42.69991676894766,42.82574099458955,42.74891283414668,42.69095249404959,42.70001999455564,42.84936499428449,42.92015849486809,43.25794122856345,43.29608899468171,43.33467722462304,43.35047899432353,43.52959499478131,44.4676384953034,45.41314198569167,45.32836999539344,45.79546971480725,46.32417761184654,46.52788584568992,46.64648137428918,46.78182656979057,47.02872199627524,47.44800499648224,47.56363179012332,47.44370816097834,47.70906261003721,47.84914599619481,47.88132097188223,48.15801133152956,48.39327458680373,48.62037902637837,48.65942399682115,48.7306843213991,48.79360834049547,48.584921139201,48.53891949682159,48.62650099654218,49.51601050904238,49.60937026504644,49.32226699711205,49.42990349642128,49.44309349685351,49.50731421779725,49.5183352235228,49.52087889045892,49.52342255779164,49.53905800964633,49.73070419169274,49.87085070479343,50.06512049680427,50.35041299683999,50.58945764860601,50.86308939153316,51.00662649749162,51.0893819972857,50.91268949744538,50.70834349697329]}],[{"lng":[-51.65546199974974,-52.52920030262896,-52.96597262975911,-53.73916946818148,-54.1804443852382,-54.58788699945972,-54.32603651869643,-54.01631709716441,-54.43528802612176,-54.29803316134486,-54.00564749977092,-53.85174487703377,-53.0659905181181,-52.72186806198229,-51.84749555534458,-51.65546199974974],"lat":[4.055989495260611,2.588017765314695,2.212344053324948,2.295569950793343,2.137853594404422,2.322071497461593,2.588017765290618,3.55927614524972,4.386040123614633,5.236288688319553,5.602541994571239,5.694940983563281,5.474531357547155,5.23628868873696,4.616485863773159,4.055989495260611]}],[{"lng":[-61.56380773987689,-61.72210123184577,-61.84072546067524,-61.5434777876221,-61.45636706110808,-61.28891338079647,-61.56380773987689],"lat":[16.1517708639406,15.96090644201727,16.27874060234214,16.38979955043596,16.54987878667228,16.29420926829059,16.1517708639406]}],[{"lng":[-61.07494717990441,-61.29683548135533,-61.45563290410964,-61.28904949437759,-61.07494717990441],"lat":[15.95011740502285,15.75205555529821,15.95011740406232,16.13361612738866,15.95011740502285]}],[{"lng":[-60.79770726784533,-60.94846626999139,-61.19572102416308,-60.86958322588491,-60.79770726784533],"lat":[14.50527304576628,14.43323936296471,14.7745426402363,14.79836590861366,14.50527304576628]}]],[[{"lng":[17.65149900048585,17.91208950020087,18.82130600042568,18.88973399980927,19.03394199959493,19.0052619997724,19.07709045419296,19.4251674997375,19.13728103916878,19.0220694999755,18.83366218994655,18.74076052284654,18.5296729995812,18.01898390877578,17.83391052637708,17.44330588689176,17.14119299973187,16.25372594153974,15.84002299992562,15.73672200052051,16.13217500057996,16.17244904655934,16.43838361312342,16.54434800010162,17.45084549960941,18.15392326354033,18.43810399935862,18.52521300013916,17.93636271582965,17.64915649970569,17.58133499999627,17.35605349956495,16.93891975622788,16.01652599975773,15.53919271569454,15.32440530344253,15.32440530340962,15.32440530250046,15.32440530345797,15.32440530292173,15.32440530262833,15.32440530310975,15.32440530362298,15.32440530354822,15.22238455841193,15.03877043751868,15.27862428667039,14.9539779195507,14.90251424053978,14.88127599979192,14.52611504836819,14.22640399967559,13.84534388620411,13.54298595173667,13.6512960001841,14.11128449945337,14.11819650032326,14.39091001184652,14.57001250026401,15.22643750048295,15.33129049989446,15.40442500030703,15.70640750005937,15.62726200020014,15.79147550020088,15.8734945001553,16.30154899962437,16.24214849943022,16.59680500050615,16.85475500024412,16.87604350020762,17.29432499956484,17.44330588735088,17.65149900048585],"lat":[45.84783549533912,45.79078049566209,45.91438299542337,45.92118049582118,45.48682149519728,45.4346304950941,45.3404946632275,45.16769249534736,45.11871903730626,44.85535399481689,44.87012004106634,45.02065020565203,45.08750899576341,45.12936343463268,45.06152968015873,45.15970144624507,45.16328799553015,45.06755523350029,45.22447199580181,44.93563099518252,44.45453399492548,44.20921791574372,44.04246627306996,43.97417849474852,43.17686849439077,42.68926111690742,42.55570499411302,42.42046299387776,42.68776070522354,42.88892349413428,42.93842299449409,43.08416099441811,43.33342238641645,43.50190999429845,43.8578463756964,43.94734322529796,43.91356184509394,43.90942100503887,43.87622355959891,43.8720105868319,43.86651550158997,43.84879666929761,43.81848958703429,43.79126976358359,43.87138151626962,44.1356720467674,44.36606233788697,44.54950237307464,44.69015444158366,45.03114699554816,44.9265401460578,45.15378049582492,44.8883400748898,45.34049466307815,45.45405499530053,45.48233549587827,45.48123899548516,45.50342204987191,45.67294449568833,45.42708799546249,45.7628549955088,45.79271699568717,45.97526199594963,46.08595349549515,46.25932749616997,46.2793194955481,46.37828799600486,46.490075495554,46.47590249549474,46.35044099600542,46.32060249568979,45.98854449527533,45.9495919035859,45.84783549533912]}],[{"lng":[17.32942827818521,17.28133962347568,16.98183141393472,16.92477606032355,17.03439947694951,17.21454048241349,17.32942827818521],"lat":[42.96720370570939,42.85793547306967,42.86449648868544,42.95631495892203,43.08436707536664,43.09354506848629,42.96720370570939]}],[{"lng":[16.63078763168581,16.33049711948065,16.12331222695618,16.25748306042561,16.51248966391099,16.63078763168581],"lat":[42.29349502441117,42.27159992302884,42.39385833188287,42.49146068807288,42.46608225039633,42.29349502441117]}],[{"lng":[15.88543372654603,15.65819933758132,15.45649369039872,15.55227870450088,15.87476444166697,16.02356635286569,15.88543372654603],"lat":[42.96766863232405,42.90804225160372,42.99202060522069,43.05116694687192,43.1499814971706,43.09993557194895,42.96766863232405]}]],[[{"lng":[12.24074549993918,12.21166872445516,12.4779239999221,12.69063500047961,12.73139299985722,13.50424949984049,13.71418500045024,13.68403200047417,13.51102522401723,13.49693899945265,13.59714500001107,13.59624299943576,13.78465322457684,13.90321066389751,13.83595664300683,13.72214035744926,13.57978299952089,13.4502555380784,13.35247708748215,13.09878550022559,12.22770875979323,12.33057199956227,12.39905649980518,12.26989199992557,12.38428199945809,12.45034900043333,12.75068484021654,13.17261500004528,13.64209650001414,13.74297049980408,13.74621850013652,13.75214200048967,13.75750250000362,13.7642120005295,13.76750699952574,13.77424200027,13.77765899987621,13.79069300060354,13.80394553453684,13.81080384652629,13.81792077165375,13.82911000025507,13.84184799950971,13.84554541352218,13.84669499962882,13.84945300012118,13.91573150008224,14.01544816625966,14.14690650013295,14.2539604997758,14.77964700005329,15.13817850048382,16.04912143137211,16.04036214942058,16.02473849974324,16.54230249988873,17.38898099960692,17.90055565296673,18.09745300026634,18.43434668273935,18.32806132647855,18.10199420328065,17.76350449953377,16.86726400040694,16.64431699953117,16.53989359683177,17.02506450028256,17.10997376049204,16.89073200029846,16.74761821117099,16.57239002108969,16.58208449994505,15.83268530122373,15.65284601635658,15.91895600049541,16.21375350030595,16.09315299981078,15.7559584994252,15.64494549956968,15.09404491397065,14.77622379393599,14.48127135955501,14.03213049956455,13.7607955003225,12.77332149973283,12.3086769204777,11.7338439994563,11.44993850025229,10.7056724994893,10.29984699971557,10.25811799993334,10.14347600023905,10.0187695001771,9.511344000493475,8.633010000148309,8.135350999963322,7.529827000206691,7.714236499759504,6.887427999785783,6.948443000160549,7.065754999766035,6.630050999465158,7.13108347557018,7.10472299937582,6.802368499932678,7.0448859995451,7.864076500101564,7.877137499725014,8.384716999578627,8.713936000552472,8.912146999666529,9.159377500406464,9.248531499771087,9.347472247859802,10.05068762925471,10.17391212436471,10.45280099971901,10.46965150005861,10.98167504437563,11.1642815003967,11.62719949957246,11.8571735026054,12.13601399939827,12.24074549993918],"lat":[47.06916849594506,46.89676779761858,46.67983549558603,46.65697199616842,46.63428799549398,46.56630399566545,46.52270349549661,46.43747249579722,46.34837122155452,46.05133499539618,45.81952249603036,45.80793749521769,45.74277965204671,45.63576202751365,45.5875150579172,45.59496424511229,45.78695149575624,45.70403216524373,45.7354373044721,45.64453299565321,45.32553660816184,45.16055049529706,44.79261549566819,44.63000749507899,44.22472649471496,44.16218949471995,43.9696688756329,43.75034599445171,43.47414249440558,43.29414699501864,43.28881449426327,43.27773349418344,43.26730649485485,43.25547399438367,43.25015599505271,43.23993149483402,43.23518399483829,43.19894149452442,43.17165297813079,43.16312967813629,43.1450911475373,43.12681299423462,43.10317299413904,43.09443713299066,43.08013249429919,43.06665949499222,42.89457699486533,42.68926111732046,42.53059649397771,42.44479849420212,42.07002149454681,41.92700749431898,41.90555104643398,41.73313084898099,41.4255904940552,41.2294409937405,40.89186349369182,40.68185267357742,40.51537799306183,40.1839192739221,39.88036092089659,39.93697327935983,40.29550699375682,40.39784549291208,40.11909599291704,39.72145526789989,39.4835784932042,39.04929247872561,38.92712849228765,38.88234936199594,38.71034924796937,38.4697904927542,37.93095796900428,38.14239826331364,38.50676149223752,38.81043999230616,39.04874299311431,39.92349599320064,40.04279049300818,40.17877941869007,40.56976391734226,40.64257257911064,40.89883899334736,41.22316799352873,41.41626399389187,41.73313084909243,42.15805899386032,42.37767049437062,42.94186449456625,43.58192899489895,43.81514699495741,43.97542049470333,44.04453599506563,44.21667549531486,44.37980349529962,43.93894049451717,43.78400799445327,44.0615134945276,44.36128699493257,44.65474199505032,44.71346449506679,45.1098564952331,45.26707164679345,45.46845449577965,45.77856199537759,45.92241299579047,45.91675049587079,45.92695499561523,46.45215849557778,46.09727199614,45.83044499526484,46.16960099558937,46.2337679960788,46.47198247484276,46.33497281339088,46.57977326144952,46.53068299612586,46.85490899553984,46.80738071195444,46.96572249578266,47.01329899603315,47.00382740091802,47.08066749567597,47.06916849594506]},{"lng":[12.36236799872733,12.39114341570221,12.51864517140826,12.48974965930551,12.43267280832303,12.36236799872733],"lat":[41.88427904405231,41.86899704970894,41.87844559862585,41.95472927427036,41.94016772685802,41.88427904405231]},{"lng":[12.49306869245502,12.47000406256269,12.45035729561099,12.45302136285568,12.46240550003971,12.46881737359031,12.48741550041272,12.49306869245502],"lat":[43.9068626959241,43.97302340931781,43.89718562060241,43.89445417588809,43.89375299463007,43.89657762178835,43.89645099521942,43.9068626959241]}],[{"lng":[14.18348600001245,15.34318113447034,15.2580825004637,15.09149899948953,15.2478826711721,15.000358000207,14.57321110902593,14.33759449958356,14.03620699963343,12.89649599963535,12.64469047835556,12.5503027345952,12.97726250011084,13.22648931339561,14.18348600001245],"lat":[38.01939649223688,38.16479950786777,37.80722399181491,37.3577084921348,37.07468919148816,36.70284749189489,36.76963641852034,37.00197999150457,37.10602799154753,37.57711849228934,37.63879267307438,37.93025941222277,38.04020599197478,38.19325602550311,38.01939649223688]}],[{"lng":[12.19368262516109,11.99439293880707,11.76001096218648,11.8559807421792,12.19368262516109],"lat":[36.82455493927543,36.61044850450982,36.88156336625932,36.96358507796637,36.82455493927543]}],[{"lng":[9.520695020508848,8.612391999560614,8.365756641295809,8.392999999711465,8.502254499711716,8.466637817392495,8.399809000263899,8.231552305436786,8.802688500019034,9.380432780416875,9.749370000191158,9.628014116344424,9.651118500457507,9.520695020508848],"lat":[39.18146578469914,38.95778799220382,39.06930672565186,39.446529492513,39.71300699263855,40.19843877995937,40.40756849296582,40.79501511044881,40.93104799377449,41.19597028329127,40.65809699328656,40.19843878016914,39.54932399298401,39.18146578469914]}]],[[{"lng":[27.69077700024057,28.15455549961752,27.63123994692623,26.63036500012727,26.04615449976195,25.82138649969578,24.84847652256456,24.15180000032545,23.15540158687685,22.92051699971368,22.6355635001467,21.97820899919694,21.06423800017763,21.072961437331,21.71322088568343,22.49176171849203,23.14689050019227,23.47703866431204,23.93453250018412,24.11920249959858,24.38193408179431,24.35281750028654,24.83408250066366,25.04630700043052,26.45486990736648,27.35157899944501,27.69077700024057],"lat":[57.37056099833261,56.16984349793722,55.87369024702824,55.68066699802224,55.94410599852566,56.05217899783874,56.36764616230024,56.25334849819422,56.32883665837288,56.39914299828623,56.36816799827965,56.38514299806022,56.06913699791098,56.78427340925435,57.54000662472416,57.70454687840881,57.31625799839689,57.04521835842538,57.00637049807101,57.08628999844288,57.31669567935281,57.87655649847783,57.97277949788196,58.04014599834846,57.55492747842469,57.51823699869383,57.37056099833261]}]],[[{"lng":[22.92051699971368,23.15540158687685,24.15180000032545,24.84847652256456,25.82138649969578,26.04615449976195,26.63036500012727,26.74040972643743,26.64465487904569,26.31109615442636,26.1932129142563,25.95780957637307,25.77078381029994,25.76096562274597,25.66967568081294,24.83594949944976,24.47542153416763,23.51464999971527,23.32149849948124,22.79209549941455,22.8215213493681,22.58896800077395,21.6510709996594,21.39028592193619,21.27351116795093,21.04997823954061,21.06423800017763,21.97820899919694,22.6355635001467,22.92051699971368],"lat":[56.39914299828623,56.32883665837288,56.25334849819422,56.36764616230024,56.05217899783874,55.94410599852566,55.68066699802224,55.26386461661473,55.16078447512058,55.13246736917981,55.00339731272005,54.95064811427571,54.79429730296992,54.57909336944042,54.19496965478525,54.14902749752633,53.93093196942326,53.95655999760849,54.25332599826829,54.36335899784291,54.82638323301592,55.0702514979971,55.17998349815508,55.26944694051645,55.24565224565455,55.91145201795513,56.06913699791098,56.38514299806022,56.36816799827965,56.39914299828623]}]],[[{"lng":[6.137662499619886,6.474962499985653,6.380052499379405,6.367107500642876,5.893386000650713,5.818117000648816,5.746318999426853,6.024899500190217,6.137662499619886],"lat":[50.12995149728143,49.82127499661688,49.55110499702536,49.4695069971157,49.49694449723473,49.54631049701187,49.8535949972199,50.18277949725897,50.12995149728143]}]],[[{"lng":[22.12107750026381,22.15530600008012,22.89627049959219,22.18083749980179,22.12831999993179,21.65895500061601,21.44139800024688,21.14747118202629,20.77559999944515,20.70530350008416,20.26429600056064,20.13647573035157,19.86538999970778,19.6980989996625,19.30270949953214,18.88973399980927,18.82130600042568,17.91208950020087,17.65149900048585,17.44330588735088,17.29432499956484,16.87604350020762,16.85475500024412,16.59680500050615,16.3707935005225,16.11384900011689,16.45944204183921,16.43376149966756,16.64622000033763,16.42154250018329,16.99140402960754,17.1607975003021,17.24742750012323,17.70543649991499,17.89392300058074,18.8484780004986,18.76017886072416,18.92839199970242,19.01432249980796,20.05187899937987,20.46393700023361,21.41060633353281,22.12107750026381],"lat":[48.37831149617591,48.40339649669473,47.95412049654249,47.60009449595321,47.59808949630908,47.02213149626596,46.65146699628836,46.33588539317468,46.27590999585995,46.16093749593194,46.12637349608231,46.13405124785631,46.15033449594947,46.18793099551751,45.99155049552054,45.92118049582118,45.91438299542337,45.79078049566209,45.84783549533912,45.9495919035859,45.98854449527533,46.32060249568979,46.35044099600542,46.47590249549474,46.7222434954916,46.86906799627059,47.04411389117077,47.35291849612009,47.44659699638054,47.66529799623932,47.72003644740956,48.00665649614959,48.01200899609941,47.75899249594224,47.73945699588346,47.81822799599759,47.91453421752315,48.05683249623129,48.07773649608097,48.16770399624766,48.46396699645093,48.54970043315777,48.37831149617591]}]],[[{"lng":[14.64587628751955,14.43335659192608,14.23399478505247,14.41194850164301,14.64587628751955],"lat":[35.93330162414243,35.71698195111229,35.88146856426845,36.06694915096087,35.93330162414243]}],[{"lng":[14.34818783476791,14.26221972470604,14.17265497330048,14.23071113288042,14.34818783476791],"lat":[36.03081083687714,36.0067200520032,36.06905078640056,36.0878916613358,36.03081083687714]}]],[[{"lng":[7.202794500516835,7.092692000538151,7.006229499764741,6.709732500094647,6.697865500044754,7.004076893796925,7.065684999402139,6.760465000715235,6.681671345751186,6.407779500657244,6.167765999381292,5.953192000131062,6.224404999807778,6.07265700042561,6.174811999490471,5.87708499989153,6.086947500446958,6.020999000468382,5.81905199964373,5.687622000205604,5.766125499713965,5.798273999950995,5.566283500680628,5.237716500375433,5.102179999796609,4.759925999755643,4.669544000696091,4.279564999441186,4.243669499474116,3.687433279672752,3.839083000326134,4.127788500526605,4.198018500718832,4.374232499671613,4.493847499664189,4.560596500162366,4.609676500629829,4.649070999907318,4.763908454330545,5.164383500193094,5.411228500418422,5.519872557641428,5.877018665280523,6.191301500109343,6.449189670713447,6.874905000153133,7.09814906453687,7.208935000362406,7.202794500516835],"lat":[53.11328149788546,52.83820099750125,52.63876299735807,52.62782349767834,52.48628599745744,52.39960571504412,52.24137299723088,52.11856949714148,51.93242002300305,51.82809199771934,51.90080449774766,51.74784599739578,51.36497899752626,51.24258749714144,51.18451349721843,51.03210099752791,50.91313499671926,50.7542954975419,50.71455749689909,50.81192399721566,51.00871549744253,51.05985349699016,51.22083649685648,51.26160049690648,51.42900499761211,51.50246449683099,51.42638399743606,51.37601749705927,51.37472949731428,51.51671786029794,51.75829699707708,52.00054249738076,52.05414449722,52.18708999774952,52.32825999711346,52.43742599743278,52.57340099734402,52.75617749718163,53.2073600025237,53.00091049767597,53.15172449786451,53.25501733983371,53.38214592727068,53.41093799733076,53.42288800347156,53.40801299764398,53.25501733926734,53.24306449767148,53.11328149788546]}],[{"lng":[3.977666500499581,3.856339499895886,3.380660999615269,3.365787499520589,4.234817500634277,3.977666500499581],"lat":[51.22513199738098,51.21105599683484,51.27429949722445,51.36983549707979,51.34825399685661,51.22513199738098]}]],[[{"lng":[18.54172649967105,18.95002950022658,19.6388980372434,19.64514735456138,19.33149437353713,19.2569530006888,19.80376849989982,20.13647572940427,20.3135029993246,21.55932200010018,22.79209549941455,23.32149849948124,23.51464999971527,23.58870199927616,23.81161041869117,23.91623900061268,23.86159418067232,23.17833799998065,23.64552273118104,23.54767705030649,23.6174430002733,23.70922100014473,24.0960091395883,23.54764199940363,22.68614950005242,22.70876675594571,22.56683999957761,21.39771250063955,20.61493950024925,20.13647572997761,19.88392950059498,19.46738649986549,19.12369126140664,18.85155099981339,18.57572399947889,18.03506099952388,17.42960499941905,16.9079245004154,16.86327000012586,16.58028999996199,16.33254997833091,16.10731799940924,15.53526750004484,15.18155900865723,14.82336199935742,14.97418299995595,14.72986199967174,14.71671600034328,14.75522699947791,14.60089150059982,14.53436200042091,14.56506299969424,14.43643799924141,14.15669200016519,14.14365799930245,14.41215699946797,14.26754200047287,15.38807450037476,16.69908499974871,17.66660700007542,18.28963613978507,18.54172649967105],"lat":[54.58447999748093,54.35831049759932,54.45822865054721,54.45160935116964,54.35225906771883,54.27846049778924,54.44241049825195,54.41616613160191,54.40220199793006,54.3225039974157,54.36335899784291,54.25332599826829,53.95655999760849,53.69592849737607,53.25501733944378,52.9048119974945,52.70733098523594,52.28314099732294,52.05526704712793,51.69138008404116,51.50953699753554,51.27764849685823,50.61227767313741,50.25160199735176,49.57316549644553,49.20222834463544,49.08837749653191,49.43379399651478,49.41783299635576,49.27798996369756,49.20417699654866,49.61376699640689,49.42007846903509,49.5171889968203,49.91042299732636,50.06577199659259,50.25451299711388,50.44945399658201,50.19812299730437,50.14278799670699,50.59246134001854,50.66207299753951,50.7793759975304,50.95741298145963,50.87055049673487,51.36394999688826,51.58177699706952,52.00118799779353,52.07002499741785,52.27205199743371,52.39500799743416,52.62449699764079,52.67990049715461,52.89559099734847,52.9613684978295,53.3296359976461,53.69780649728951,54.15890699756148,54.56924699795768,54.7832314974903,54.80684146859912,54.58447999748093]}]],[[{"lng":[-8.199000500416636,-8.165075500514568,-8.051862500375552,-7.200464499513853,-6.985800500423303,-6.63746093579006,-6.300772837366666,-6.479713000174508,-6.689786000242049,-6.929903499873229,-6.802239096432173,-6.865144000059051,-6.951298499951906,-7.010638566264319,-7.542929000267073,-7.231467000447574,-7.020894825575509,-7.203134999866442,-7.275830141859886,-7.107952500478152,-6.931738499572051,-7.445669996660811,-7.512691500170416,-7.401916499512664,-8.074127631272077,-8.857930924224201,-8.796321500409702,-8.792428702315572,-8.735063000172493,-9.174696090399319,-9.445223492107628,-9.416454999614313,-9.040260499883015,-8.894933000232324,-8.7748885000375,-8.653119499812629,-8.776428000555041,-8.811574500249275,-8.86318599983165,-8.199000500416636],"lat":[42.1544189936503,41.81830199378128,41.82061399427731,41.87974949391091,41.97144699396211,41.89837996342592,41.59238494374226,41.29437999375889,41.20524149352153,41.02946649327472,40.52879303070794,40.2706944935034,40.25744599283343,39.73634547062418,39.66281499317501,39.2784309930504,39.0127117087577,38.75101749250344,38.45387634213768,38.18812149212187,38.20837799281501,37.69404027568366,37.52625649154733,37.17482749167448,37.05298348485152,37.14154944473491,37.44294799150948,37.69404027603584,38.51567249242432,38.46649497256666,38.76320959459665,39.05469699266287,39.74142299300947,40.04550299289032,40.51448649366452,40.9647784939183,41.47197149385006,41.61156749399795,41.87206649406882,42.1544189936503]}],[{"lng":[-15.65003232459689,-15.78423392579957,-16.05977550951884,-16.05345481427038,-15.92129087958513,-15.65003232459689],"lat":[30.12824869018532,30.00832385479571,30.07685233222146,30.21383178086674,30.33811715121464,30.12824869018532]}],[{"lng":[-16.65424423318303,-16.97029577096838,-17.17749704922746,-16.85209354818379,-16.65424423318303],"lat":[32.72891571819187,32.58865734710904,32.76067632544752,32.85908205279685,32.72891571819187]}],[{"lng":[-25.12587412939372,-25.55067865253867,-25.6228740394291,-25.52341988120224,-25.09897321291193,-25.12587412939372],"lat":[37.7313578160239,37.68749871421762,37.76888107910523,37.86232426116629,37.8667395336164,37.7313578160239]}],[{"lng":[-25.60290255024646,-25.74623734683424,-25.94893858528068,-25.80239566680818,-25.60290255024646],"lat":[37.81627902761304,37.7050337144388,37.87879060338442,37.9838299068208,37.81627902761304]}],[{"lng":[-27.02585486097025,-26.98634327379137,-27.32676524498453,-27.43031680032885,-27.02585486097025],"lat":[38.83459438458941,38.59086637575543,38.60628341317589,38.73672586862101,38.83459438458941]}],[{"lng":[-28.29954989336143,-28.37579706130859,-28.78587766492906,-28.95919063678227,-28.71300469379845,-28.29954989336143],"lat":[38.50067760841789,38.41572108434217,38.46117987465483,38.61939365258059,38.7096645670519,38.50067760841789]}],[{"lng":[-31.02496204387975,-31.1392064291639,-31.30792642566584,-31.35423668215666,-31.27931106513013,-31.02496204387975],"lat":[39.48954700553349,39.28516414182972,39.28701801488465,39.46419189355228,39.62498798101802,39.48954700553349]}]],[[{"lng":[27.39116650067975,28.11380550030125,28.22830824144899,28.11580199949253,28.21135999972018,28.65190928737577,29.2976493761599,29.66704485716273,29.67963949953314,29.55693829643306,28.99408500048883,28.71224277586452,28.57888400057805,27.69540999993795,27.2713405003553,26.38182300020453,26.35818200037424,25.67220099949906,25.54453950023417,25.29637250021566,24.65477950042513,24.32352250030848,24.11204349953595,23.63039300023132,23.15540158575022,22.9971709993824,22.96636900053483,22.67516149990023,22.49967723110068,22.01613250030966,22.01235049989627,21.3584699995365,21.47917850016782,21.01657499972636,20.66283300030722,20.26429600056064,20.70530350008416,20.77559999944515,21.14747118202629,21.44139800024688,21.65895500061601,22.12831999993179,22.18083749980179,22.89627049959219,23.15540158607651,23.49360499944973,24.56079304501705,24.94710049962962,26.09882749973309,26.63056000060791,27.19255785210912,27.39116650067975],"lat":[47.58939749630246,46.83841099632001,46.43802513553965,46.10782699605647,45.46727999510836,45.25105495023953,45.41115144623949,45.31191186246061,45.21183799549502,44.8739750001987,44.67962549491232,44.37740413128855,43.73873899488154,43.98734299490116,44.1263354949057,44.03861199506485,44.03716049496285,43.6881484947835,43.64284549502019,43.65541899477365,43.72358649460532,43.6976859946876,43.69994599529721,43.79104999442686,43.81228186525843,43.80786749483796,44.09828849463706,44.21566299525769,44.6117490445972,44.59920249524399,44.60231849503632,44.82161199511608,45.19302749532997,45.32462749553488,45.79411599537053,46.12637349608231,46.16093749593194,46.27590999585995,46.33588539317468,46.65146699628836,47.02213149626596,47.59808949630908,47.60009449595321,47.95412049654249,48.11272745354051,47.96781149634334,47.93394991049997,47.72912399673483,47.97879599631645,48.25974999619745,47.90437967606628,47.58939749630246]}]],[[{"lng":[16.3707935005225,16.59680500050615,16.24214849943022,16.30154899962437,15.8734945001553,15.79147550020088,15.62726200020014,15.70640750005937,15.40442500030703,15.33129049989446,15.22643750048295,14.57001250026401,14.39091001184652,14.11819650032326,14.11128449945337,13.6512960001841,13.72214035744926,13.83595664300683,13.90321066389751,13.78465322457684,13.59624299943576,13.59714500001107,13.49693899945265,13.51102522401723,13.68403200047417,13.71418500045024,14.43450049943831,14.56517550028863,14.67458049984233,15.06512049957321,15.40197949945051,15.64998800031219,15.78642199970274,15.99623600062519,16.11384900011689,16.3707935005225],"lat":[46.7222434954916,46.47590249549474,46.490075495554,46.37828799600486,46.2793194955481,46.25932749616997,46.08595349549515,45.97526199594963,45.79271699568717,45.7628549955088,45.42708799546249,45.67294449568833,45.50342204987191,45.48123899548516,45.48233549587827,45.45405499530053,45.59496424511229,45.5875150579172,45.63576202751365,45.74277965204671,45.80793749521769,45.81952249603036,46.05133499539618,46.34837122155452,46.43747249579722,46.52270349549661,46.44294349576341,46.37245349589318,46.45068749591794,46.65211249572548,46.65354849618289,46.7057569957672,46.70746949592176,46.83539849579883,46.86906799627059,46.7222434954916]}]],[[{"lng":[19.46738649986549,19.88392950059498,20.13647572997761,20.61493950024925,21.39771250063955,22.56683999957761,22.38281750023579,22.33361376848767,22.17580783080095,22.15530600008012,22.12107750026381,21.41060633353281,20.46393700023361,20.05187899937987,19.01432249980796,18.92839199970242,18.76017886072416,18.8484780004986,17.89392300058074,17.70543649991499,17.24742750012323,17.1607975003021,17.06674100048466,16.97620300016258,16.85110600020292,16.94977799988476,16.94027800018433,17.39672550051706,17.64692999995576,18.32243600040817,18.4035954999623,18.85155099981339,19.12369126140664,19.46738649986549],"lat":[49.61376699640689,49.20417699654866,49.27798996369756,49.41783299635576,49.43379399651478,49.08837749653191,48.86226399682457,48.70160412933834,48.57435932840513,48.40339649669473,48.37831149617591,48.54970043315777,48.46396699645093,48.16770399624766,48.07773649608097,48.05683249623129,47.91453421752315,47.81822799599759,47.73945699588346,47.75899249594224,48.01200899609941,48.00665649614959,48.11868149646252,48.1722444962591,48.43863499630631,48.53579199638111,48.61724549627212,48.81334999651652,48.85426599697151,49.31505899701623,49.39674549673997,49.5171889968203,49.42007846903509,49.61376699640689]}]],[[{"lng":[28.8966574881969,28.47817572256962,28.63875315482497,28.89665748824702,29.95600784405642,29.12725835408373,29.46430717885331,29.57293849925898,30.07845142693563,29.75473150065181,29.70090298117585,30.04434311139804,30.05980918060203,30.06863565836923,30.48844286924209,30.28046258064933,29.97191699963813,31.12796858709108,31.52181585788518,31.18629210729737,30.14396650031906,27.99127949935047,27.80356800056929,27.45417125692561,26.73042384059136,26.4539319993639,23.46992199388307,23.00337295738239,22.98961979464445,22.52601999063134,22.21409700512998,21.37269537661019,21.1787160412531,21.42067195256642,21.59369577839956,21.32956999988913,21.11595444137551,21.17993567505324,23.02337935327327,23.61733299942329,24.29816740008826,24.5620447964014,24.54117626043426,24.81626548125616,24.90854884862843,25.26080295402641,25.08460749960598,24.66024918597446,24.15512899982568,23.76556213096866,23.84530927398996,23.40780632508085,20.5486364990387,21.03324826843028,21.31031584957312,21.58884069250087,21.69185318783755,21.98361149967944,23.07568508483983,24.02890179475129,25.01195971856203,25.63800956544402,26.07631584908006,27.74721062279522,29.1536504480227,28.8966574881969],"lat":[69.04263701807481,68.51091885402293,68.23752164356594,68.15151073741455,67.64523340636272,66.99082800095071,66.54915926302569,66.43285599917809,65.77040252087096,65.49736949874844,64.90854483353206,64.73877666553415,64.54695307084359,64.43747943101913,64.15735537314177,63.85087059152229,63.75716549851944,63.25778072775793,62.89422790056729,62.4872048868403,61.85223799890422,60.66897899883117,60.54862399803248,60.42360540355578,60.40754979884802,60.48765249887755,59.87567657839028,59.88673793334429,60.08259075139431,59.95116150941134,60.2234833997512,60.11119632020601,60.7855230326213,61.04549215239046,61.53859884172876,61.95388599871104,62.7127261333106,63.07659754070338,63.85087059192063,64.04877199917624,64.54695307099685,64.7769971564219,65.07916805992272,65.09809557237504,64.86449112519058,64.94323258706017,65.58894949917952,65.66764055271587,65.81602699925851,66.27389239817069,66.83698800164066,68.02300861713888,69.05996849897481,69.23480532649903,69.30653751059553,69.27858431300658,69.2348053257987,69.07289349869495,68.67564241606952,68.7801579751418,68.64287037700049,68.96323131751475,69.72561131530593,70.06018756865241,69.58802403278223,69.04263701807481]}],[{"lng":[22.15617510187559,21.94365383858948,21.8470441041833,21.76487765960484,22.07447838138095,22.15617510187559],"lat":[59.79489577476067,59.68855885849049,59.84192725647132,59.97236686637288,60.00043692142719,59.79489577476067]}],[{"lng":[21.10616484580889,21.05948128224529,20.70922855007956,20.87910663602631,21.10616484580889],"lat":[60.46518109213139,60.26933112787496,60.29829274018313,60.55943368670203,60.46518109213139]}],[{"lng":[20.55004435258756,20.13647572931381,19.54803274241578,19.63239387315664,20.13647573068106,20.40088986312792,20.55004435258756],"lat":[60.09613029730257,60.03548834290275,60.22368577291653,60.32001578541832,60.33727441144346,60.3136278637173,60.09613029730257]}]],[[{"lng":[20.5486364990387,23.40780632508085,23.84530927398996,23.76556213096866,24.15512899982568,24.16234032019654,22.92195205568925,22.39807390954985,22.09828858263984,21.54360449886352,21.15266100872681,21.28988299479492,21.22053047344387,20.13647572956407,19.28646800099897,18.42354943630393,18.38106910471361,17.46293449889161,17.48929950073832,17.34505218401469,17.48423100177374,17.17391756087637,17.37261423001664,18.69025400871592,19.02450717424585,18.59040718164588,17.91295166612677,17.57239600050151,17.38956243278933,16.75598715891307,16.95690616725945,16.66668349998719,16.727828434718,16.50071134951448,16.76760341738667,16.50724089263701,16.28459823961547,16.04987149943214,15.78262914067384,14.54639949978585,14.15542005717164,13.17537093740177,12.6634963815506,12.89931299946522,11.92290050063414,11.49766149119382,11.19496614029272,11.21419451777375,11.45629310599405,11.62203255123553,11.71670427414381,11.82619650086378,11.92697050053393,11.83972899931429,12.14950694162006,12.43805000743581,12.56846422667491,12.29497412110342,12.67017649918053,12.69332330533654,12.18237667489754,12.29936999956635,12.25465950051604,12.05245549986696,12.14950694035522,12.20574874965711,12.52213210806605,13.14894692374042,14.01362849165105,14.10921891612142,13.83809701450403,13.73025667230756,14.32598500042483,14.62734444325207,15.45399449924559,15.41527429741957,16.34252801899527,16.16798866928856,16.72042231011992,17.26614568788469,17.684947561799,18.07055247151071,18.12592499949164,19.92209136733142,20.33457106584186,20.5486364990387],"lat":[69.05996849897481,68.02300861713888,66.83698800164066,66.27389239817069,65.81602699925851,65.69310629111553,65.67426415352112,65.38935410568914,65.44201802151838,65.06305899859981,64.76977667982911,64.54695307047992,64.22619345144041,63.63283229903794,63.46971949878292,63.01270651086274,62.84915758051284,62.3560967416046,62.13695049892063,61.8399729333947,61.67908526954437,61.17234681071835,60.65425593141298,60.23117060047174,59.70636542903317,59.04903648271703,58.80549084619964,58.95085249872757,58.71206519517192,58.62654048862435,58.16949950827225,57.99607649842795,57.54762009753249,57.11496548084744,56.79146944128044,56.36173457196389,56.5733947760267,56.32188849779808,56.10533372660612,56.0613174983571,55.44928056895581,55.39377098370864,56.0409315910242,56.44900449806346,57.56222299817397,57.98402653792358,58.65202101704141,58.97256029157265,58.99003427871457,58.92960331343949,59.04903648211243,59.23784999858458,59.79047599866748,59.84076699814737,59.88822680649329,60.07823781440985,60.43470681537923,60.98689904729214,61.05597649873769,61.42594322569774,61.76715319858916,62.2674939990211,62.33102449909576,63.18344449838541,63.41824941789002,63.61881959761718,63.85087059216991,64.07482882815074,64.07335018757132,64.38296240525187,64.54695307086274,64.61218132920777,65.11891599898553,66.06389820818141,66.34523349855442,66.50450012290737,67.06415142734525,67.42887684362721,67.88741076203215,68.09132058467839,68.03245812794378,68.13721175787877,68.5365159986205,68.38448789431342,69.01862855990494,69.05996849897481]}],[{"lng":[18.75877767246673,18.20250836774944,18.22093755427064,18.09730329432231,18.19111424386094,18.11090336109979,18.46136585833785,18.73539738087801,19.09786830659196,19.01051360245392,18.80754708372123,18.75877767246673],"lat":[57.2794288495426,56.97121928202253,57.14169491984998,57.26376950510492,57.38634404503018,57.53361279513049,57.81634830289862,57.92492477567212,57.93665418827601,57.74222807640858,57.65236880110534,57.2794288495426]}]],[[{"lng":[-7.188510500228224,-6.864229500178863,-6.643909000391663,-6.594990999400416,-6.268015500547246,-6.214899500396307,-6.084344380785851,-6.102772999463372,-6.144516499699197,-6.484237928449645,-7.842156000597135,-9.611633778506713,-10.21926535369906,-10.14974643759869,-9.375538042280773,-9.404355068044591,-9.009308500626027,-9.873386847790405,-10.15724261455323,-10.03681330128833,-10.1697343648546,-9.907282223493114,-9.132258499843569,-8.400369374601853,-8.642284280700448,-8.251290519647265,-7.313814863901039,-7.256068499430945,-7.65512565050425,-7.570156014560743,-7.84113767739942,-7.429107800710121,-7.188510500228224],"lat":[54.33768099742259,54.3301654977201,54.18001949777261,54.04467399805559,54.10233699735349,53.63340699738358,53.48417601597163,53.21077299729607,52.73769649724797,52.22184711169346,51.95421849732278,51.50956633388562,51.76774707501809,52.24765190569444,52.58776593119367,52.96867051397026,53.14081749754877,53.33292946411453,53.57508854602444,53.77827293256427,54.01522399718809,54.26431928281104,54.16236049789409,54.47972078407359,54.68240202173484,55.13174212770116,55.31100425554734,55.06703499803547,54.77294006612505,54.64264636795436,54.3348892097609,54.18289060941657,54.33768099742259]}]],[[{"lng":[16.94027800018433,16.94977799988476,16.85110600020292,16.97620300016258,17.06674100048466,17.1607975003021,16.99140402960754,16.42154250018329,16.64622000033763,16.43376149966756,16.45944204183921,16.11384900011689,15.99623600062519,15.78642199970274,15.64998800031219,15.40197949945051,15.06512049957321,14.67458049984233,14.56517550028863,14.43450049943831,13.71418500045024,13.50424949984049,12.73139299985722,12.69063500047961,12.4779239999221,12.21166872445516,12.24074549993918,12.13601399939827,11.8571735026054,11.62719949957246,11.1642815003967,10.98167504437563,10.46965150005861,10.14497449987692,9.607077999580854,9.620580500628963,9.530749000090898,9.558720500163837,9.96781349970122,9.999525999601634,10.17835300052403,10.41897481418619,10.45443900013067,10.88619900038519,10.99120249939669,11.0165005004914,11.42142749978065,11.41021899983802,11.63288300032061,11.85717350274938,12.06066200056998,12.33804550004766,12.57502649945589,12.69579550053478,13.04605549965052,12.95925268049657,12.87578549935821,12.86018150048966,12.75155500023585,12.94468449988485,13.177042999643,13.45641658248805,13.4632689772031,13.47508000026866,13.47653548519814,13.4855062917533,13.4916156512459,13.49378119550633,13.50416587642775,13.50626782539682,13.50311656682991,13.5065939754653,13.50972891560303,13.72709050029178,13.79610700026377,13.83950700057198,14.69101399991191,15.04034505057384,15.54244949977891,15.75363350015166,16.94027800018433],"lat":[48.61724549627212,48.53579199638111,48.43863499630631,48.1722444962591,48.11868149646252,48.00665649614959,47.72003644740956,47.66529799623932,47.44659699638054,47.35291849612009,47.04411389117077,46.86906799627059,46.83539849579883,46.70746949592176,46.7057569957672,46.65354849618289,46.65211249572548,46.45068749591794,46.37245349589318,46.44294349576341,46.52270349549661,46.56630399566545,46.63428799549398,46.65697199616842,46.67983549558603,46.89676779761858,47.06916849594506,47.08066749567597,47.00382740091802,47.01329899603315,46.96572249578266,46.80738071195444,46.85490899553984,46.85100949597511,47.06077449613301,47.15164549624399,47.27058099655658,47.54189299619502,47.54624049619986,47.48301699645436,47.27011399620052,47.3881369169636,47.55579699617069,47.53684799641604,47.39613099640226,47.39636799631396,47.44485199644151,47.49532399602032,47.5924459962414,47.60200461185751,47.61874349592356,47.69708749611499,47.63231599593422,47.68222299649297,47.52050249631849,47.87540091601176,47.96260899631394,47.99663999619015,48.11281049637825,48.20669249615214,48.29438999633536,48.55879994974065,48.55444195346588,48.55598649653168,48.56334848766355,48.56238693128793,48.56480772837478,48.56920341258278,48.57301172532303,48.5765095718546,48.5836919591938,48.58956176112315,48.58995070474763,48.5130194963931,48.71360049658865,48.77160499685365,48.58430199612774,48.96677243190814,48.90769699675871,48.85217849644034,48.61724549627212]}]],[[{"lng":[14.49122099933954,14.61879999951754,14.82336199935742,15.18155900865723,15.53526750004484,16.10731799940924,16.33254997833091,16.58028999996199,16.86327000012586,16.9079245004154,17.42960499941905,18.03506099952388,18.57572399947889,18.85155099981339,18.4035954999623,18.32243600040817,17.64692999995576,17.39672550051706,16.94027800018433,15.75363350015166,15.54244949977891,15.04034505057384,14.69101399991191,13.83950700057198,13.55157850026421,13.41665150052883,13.17090800029722,12.63376349989792,12.59377850048549,12.40152399969517,12.55098849954485,12.26079900062543,12.1606790005304,12.10090049936998,12.58377849932872,12.94814450015157,13.50184599942526,13.65217399955625,14.15119522896733,14.31787350044266,14.49122099933954],"lat":[51.04353049687027,50.85780449699739,50.87055049673487,50.95741298145963,50.7793759975304,50.66207299753951,50.59246134001854,50.14278799670699,50.19812299730437,50.44945399658201,50.25451299711388,50.06577199659259,49.91042299732636,49.5171889968203,49.39674549673997,49.31505899701623,48.85426599697151,48.81334999651652,48.61724549627212,48.85217849644034,48.90769699675871,48.96677243190814,48.58430199612774,48.77160499685365,48.96778749691597,48.98003549673545,49.17357949624027,49.47619499661693,49.5421914968727,49.75837299663414,49.90508799663728,50.05815649678419,50.21984899654852,50.31802799724137,50.40707899673749,50.40431149740247,50.63364299732363,50.73035999731431,50.85157125546365,51.05469899685217,51.04353049687027]}]],[[{"lng":[28.07765521984155,27.86056240601243,27.72259524629338,27.69957190374102,27.70482916185932,28.09291949259264,28.07765521984155],"lat":[36.11815871015637,35.9225792494566,35.92876277315711,36.1181587100454,36.2642674601268,36.39125871057276,36.11815871015637]}],[{"lng":[26.23569774176486,26.62644825959125,26.58423300522423,26.86440054003596,27.00884232386062,26.69514298407262,26.28238143492992,26.23569774176486],"lat":[37.63221860060495,37.61113821645863,37.77788139365159,37.8529437739513,37.72994562480017,37.44998272294281,37.491998714276,37.63221860060495]}],[{"lng":[24.31741100049983,24.92800349990238,25.49069799990424,26.20862560126021,26.11332670020089,25.55056799957973,24.87501438559882,24.7225170002631,24.28752349999057,23.63928437537586,23.55407968424342,23.64887002129788,24.09734345305597,24.31741100049983],"lat":[35.35377499093943,35.40690999100779,35.29833199123893,35.17080297278336,35.0322496347979,34.99075699080602,34.95544923974449,35.09254449060699,35.17600649045039,35.24859241740076,35.35924851812332,35.49099341888225,35.55682774269697,35.35377499093943]}],[{"lng":[26.38962344852916,26.48051931447197,26.4268109672731,26.16491725181289,26.16491725205373,26.02168130501967,25.85242397485021,25.91165424147938,26.38962344852916],"lat":[39.3419067725318,39.16321378612276,38.98340551306239,39.01053968278118,39.19144641751419,39.0983385227294,39.2050182757552,39.27844416137928,39.3419067725318]}],[{"lng":[26.15543018905562,26.01194416986431,25.91735208039912,25.99017696151505,25.83431954764114,26.00345679836737,26.16253067952006,26.15543018905562],"lat":[38.31074062513427,38.1528663095826,38.24939654051211,38.38894665116541,38.54185662114592,38.6018407158149,38.55120993243619,38.31074062513427]}],[{"lng":[25.60876331387891,25.49126447081295,25.19511799728039,25.44277116866335,25.60876331387891],"lat":[36.40275084478294,36.21906972064001,36.4505443746494,36.57583026617121,36.40275084478294]}],[{"lng":[25.61143120243664,25.64189063396502,25.44132355612845,25.36322981659177,25.16634789536327,25.02623761088418,25.14278473466001,25.61143120243664],"lat":[37.129611136025,36.88511500821493,36.85967580728717,37.02377539218222,36.91218732268534,36.99955008580083,37.17067201206159,37.129611136025]}],[{"lng":[26.03275800007642,25.63242900048851,25.13954500052923,24.81348999998803,24.69258739140941,24.51386778524193,23.86774650012507,23.76507750006568,23.75686449960816,23.65121779204533,23.29950968434049,23.00415300018343,22.68241899963079,22.66395749971041,22.55888223708289,22.66458477842668,22.91591099950903,23.09462466277833,22.96247833128945,22.79994314031453,23.37779049954738,23.46044366347368,23.49771893917241,24.05309836657964,23.98840524561695,23.65557321860775,23.69041799962236,23.99045307350593,23.98357901532274,24.04328111835518,23.74359299996866,23.67222549953676,23.596950500226,23.46044366286067,23.17969949990197,23.12003150024361,23.19353573062866,23.31924099875807,23.31302181258789,23.43358272015539,23.41622829555174,22.81712776843555,22.98080249984672,22.97354482562129,22.39874294462744,22.08666238494628,21.81300338052607,21.68023299979066,21.48827557760322,21.20962086714293,21.35107399987145,21.86452492989509,22.37297249946682,23.11753199956516,23.1261789998725,22.89450417068387,22.60827895084114,22.0550525461319,21.85173212300671,21.20548710740121,20.76800961752202,21.10860850037935,20.70333295137585,20.47782149976696,20.01001579515465,20.30234500047367,20.39130799938435,20.38332248269719,20.61287650026384,20.77850100006124,21.05606849998711,20.98020450047847,21.78737799947598,21.92943800051955,22.21621600052795,22.33205200046201,22.87917849992295,22.92759150016396,23.46044366283997,23.62422299938072,24.05974400025813,24.49168271577122,24.78395600041939,25.17937550023271,25.22469849959912,25.90643749993625,25.94862600016158,26.35787899981161,26.59229596813696,26.03275800007642],"lat":[40.73025699346182,40.86280449384702,40.99068749385483,40.85808549382551,40.65313038653625,40.9053394288675,40.77872849360666,40.75789249352666,40.63456349386332,40.31286377166944,40.21572741484071,40.35033649334583,40.52896499327851,40.49155449374792,40.17470478521326,39.97475636010945,39.60293599259091,39.38355033903957,38.97551359863957,38.8142052424832,38.5257569928333,38.49883630796046,38.7545708951413,38.49388070468822,38.37750841947955,38.35205230559452,38.34029749275697,38.23514402161777,38.0911216830704,37.70521945756258,37.853809491997,37.94181999216212,38.01517499204106,38.02396503932158,37.95158999248365,37.72998499197581,37.59122095015974,37.60972193016351,37.76143790965553,37.76155165083336,37.45576050617832,37.44580588713752,37.04790349190247,36.73120712641716,36.71628423472284,36.92790727833349,36.80556431745251,37.3774339918788,37.59122095018606,37.86271429888507,38.10213849242552,38.28522991763252,38.14222349213424,38.06064599203258,38.16839999230816,38.21984527741471,38.35865647320054,38.3922186939861,38.37453507895989,38.3543701870854,38.86218228845519,39.04614649254887,39.05005019639792,39.27484149309166,39.69176133514383,39.81274299282856,39.78848349271655,39.98271712306337,40.07965349358631,40.34878899377129,40.61669549372424,40.8556649932787,40.93112549346336,41.10035049337841,41.17045749408718,41.12027249406785,41.34065299387785,41.33853949410896,41.4024884882343,41.37572749363601,41.52211199369139,41.54361542083161,41.36018899365185,41.31018799366637,41.26463099427455,41.30757499383458,41.32034199382745,41.71110449371959,41.42012133450496,40.73025699346182]}],[{"lng":[25.74419127021491,25.50420938128412,25.41074239044218,25.50418865037689,25.72314426973502,25.74419127021491],"lat":[40.36735710695363,40.28935956914752,40.43915538168994,40.60204253262813,40.55873748319734,40.36735710695363]}],[{"lng":[25.07236184308171,24.98760477826524,24.66606048289016,24.86898705934891,25.07236184308171],"lat":[37.91271077607534,37.66711915320876,37.8694817615404,38.01200339341531,37.91271077607534]}],[{"lng":[25.26322503175518,25.28903494149091,24.98506744395892,24.97800773215937,25.26322503175518],"lat":[40.06080856120106,39.75291196798697,39.81120028711714,39.9960104872072,40.06080856120106]}],[{"lng":[24.5976727218596,24.40723138504429,24.09315814582516,24.21943857811827,24.5976727218596],"lat":[38.11815526429378,37.91186899407712,38.0950844478197,38.19119121162857,38.11815526429378]}],[{"lng":[24.09366112026165,23.88644514427797,23.78398494943003,24.11616339237033,24.09366112026165],"lat":[38.99014906151274,38.89418153256386,39.10395792566249,39.27881135257112,38.99014906151274]}],[{"lng":[24.02956091852837,24.05994648642658,23.78172285851483,23.68945317844717,24.02956091852837],"lat":[40.17556647852739,39.92790628790038,39.96590210507487,40.20056584516867,40.17556647852739]}],[{"lng":[23.13879705895109,23.05337780977904,22.85461818875286,22.83840743323531,23.13879705895109],"lat":[36.36757395736908,36.02745387076696,36.14149759231754,36.36757395697452,36.36757395736908]}],[{"lng":[21.24343045251097,20.93544763753284,20.76165794422803,21.14525673631582,21.24343045251097],"lat":[37.19525980648696,37.10038084975599,37.24257570999116,37.38127557267884,37.19525980648696]}],[{"lng":[20.95057260585628,20.86421507492716,20.54678717614736,20.67966070968828,20.95057260585628],"lat":[37.7489342377411,37.60886898875207,37.82925333608749,38.00531197954515,37.7489342377411]}],[{"lng":[20.84742373613993,20.48806012416918,20.56486837304531,20.72188169751277,20.84742373613993],"lat":[38.65705403428778,38.52442090997938,38.81613399440758,38.90685334898933,38.65705403428778]}],[{"lng":[20.38274614519542,20.52503596043969,20.70902119036209,20.7090211905786,20.38274614519542],"lat":[38.21008678025339,38.42928271431887,38.45191866648215,38.05975323239058,38.21008678025339]}],[{"lng":[19.88312915626753,19.73081785010588,19.54477087353249,19.78731892970962,19.9233049616874,19.88312915626753],"lat":[39.56383720821716,39.55999864998664,39.77839103801146,39.85705296082092,39.78136277572119,39.56383720821716]}]],[[{"lng":[33.625142944053,32.9416769806934,32.55899801072314,32.36939643602684,32.44351434485215,33.01717153409346,34.00718632747611,34.17077892375738,34.54300340436721,34.5580949905865,34.06093902969462,33.9628119397389,33.9298576145468,33.625142944053],"lat":[34.85108872691866,34.64175306921728,34.68747712791465,34.8510887265022,35.07776961192214,35.33377755200598,35.43172469466234,35.55765792216573,35.68085261374619,35.64098756717698,35.32692823870983,35.31958067258396,35.06002595783161,34.85108872691866]}]],[[{"lng":[22.96636900053483,22.9971709993824,23.15540158575022,23.63039300023132,24.11204349953595,24.32352250030848,24.65477950042513,25.29637250021566,25.54453950023417,25.67220099949906,26.35818200037424,26.38182300020453,27.2713405003553,27.69540999993795,28.57888400057805,28.49798457630884,28.060180500591,27.88261999953526,27.72045031895684,27.94106827198718,28.03551250029562,27.05965050040411,26.94922849985361,26.56154450045161,26.35787899981161,25.94862600016158,25.90643749993625,25.22469849959912,25.17937550023271,24.78395600041939,24.49168271577122,24.05974400025813,23.62422299938072,23.46044366283997,22.92759150016396,22.96832750022,22.9253963992123,22.86721399983487,22.64250088863677,22.51041200013738,22.3602064996787,22.46147199964735,22.44282149974018,22.51551049952656,22.74839949996734,23.00620999989113,22.74745399953629,22.66697550004134,22.40686514825261,22.53614499996666,22.67516149990023,22.96636900053483],"lat":[44.09828849463706,43.80786749483796,43.81228186525843,43.79104999442686,43.69994599529721,43.6976859946876,43.72358649460532,43.65541899477365,43.64284549502019,43.6881484947835,44.03716049496285,44.03861199506485,44.1263354949057,43.98734299490116,43.73873899488154,43.43410308345398,43.31644499459755,42.8384134942488,42.39292649909304,42.10593677792036,41.98307949372275,42.08833699448417,42.0002134944201,41.92627349372419,41.71110449371959,41.32034199382745,41.30757499383458,41.26463099427455,41.31018799366637,41.36018899365185,41.54361542083161,41.52211199369139,41.37572749363601,41.4024884882343,41.33853949410896,41.51983549411604,41.73313084875419,42.02219949412059,42.10593677838023,42.15515849377257,42.31115699456613,42.64849049399732,42.82545649417484,42.86853849430178,42.88978749449094,43.19287849488053,43.38661299490486,43.4027474944395,43.75165390278716,44.04551149460463,44.21566299525769,44.09828849463706]}]]],["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10","X11","X12","X13","X14","X15","X16","X17","X18","X19","X20","X21","X22","X23","X24","X25","X26","X27"],"EU_mapa_media",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":["#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040"],"weight":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"opacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"fill":true,"fillColor":["#FED976","#FED976","#BD0026","#FFFFB2","#FD8D3C","#F03B20","#FFFFB2","#F03B20","#FFFFB2","#FFFFB2","#FFFFB2","#FED976","#FFFFB2","#FEB24C","#F03B20","#FED976","#FED976","#FFFFB2","#FFFFB2","#FED976","#FFFFB2","#FED976","#FED976","#FED976","#FED976","#FFFFB2","#FED976"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"dashArray":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Belgique/België<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>29,136<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Danmark<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>22,735<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Deutschland<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>220,486<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Eesti<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>4,569<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>España<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>80,989<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>France<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>117,368<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Hrvatska<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>6,329<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Italia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>112,272<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Latvija<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>3,102<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Lietuva<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>6,123<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Luxembourg<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>2,432<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Magyarország<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>16,660<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Malta<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>776<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Nederland<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>50,025<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Polska<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>100,817<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Portugal<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>16,337<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>România<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>29,717<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Slovenija<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>4,165<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Slovensko<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>10,179<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Suomi/Finland<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>14,487<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Sverige<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>13,896<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Éire/Ireland<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>17,899<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Österreich<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>18,294<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Česko<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>29,105<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Ελλάδα<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>25,781<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>Κύπρος<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>2,225<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>NUTS_NAME<\/nobr><\/td><td align=\"right\"><nobr>България<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>media_value<\/nobr><\/td><td align=\"right\"><nobr>14,195<\/nobr><\/td><\/tr><\/table><\/div>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<div>\n  <div style=\"font-size: 14px; text-align: left; margin-bottom: 5px; color: #000000;\">Toneladas GEI expulsadas<\/div>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23FFFFB2%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">≤ 14k<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23FED976%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">14k – 36k<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23FEB24C%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">36k – 68k<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23FD8D3C%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">68k – 92k<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23F03B20%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">92k - 150k<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23BD0026%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">&gt;150k<\/span>\n<\/div>","bottomright","legend01","info legend EU_mapa_media leaflegend-group-EUmapamedia"]}],"fitBounds":[29.26,-21.2,67.73999999999999,41.2,[]],"limits":{"lat":[-21.3756519791954,70.06018756865241],"lng":[-61.84072546067524,55.84982838825272]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\nfunction(el, x) {\n  var updateLeafLegend = function() {\n    var controlGroups = document.querySelectorAll(\n      'input.leaflet-control-layers-selector');\n    controlGroups.forEach(g => {\n      var groupName = g.nextSibling.innerText.substr(1);\n      var className = 'leaflegend-group-' +\n        groupName.replace(/[^a-zA-Z0-9]/g, '');\n      var checked = g.checked;\n      document.querySelectorAll('.legend.' + className).forEach(l => {\n        l.hidden = !checked;\n      })\n    })\n  }\n\n  updateLeafLegend();\n  this.on('baselayerchange', el => updateLeafLegend())\n  this.on('overlayadd', el => updateLeafLegend());\n  this.on('overlayremove', el => updateLeafLegend());\n}\n                        ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (\n\t\t\t\t\t\tfunction(el, x) {\n\t\t\t\t\t\t\tvar tldiv = el.getElementsByClassName(\"leaflet-top leaflet-left\")[0];\n\t\t\t\t\t\t\tvar titlediv = document.createElement('div');\n\t\t\t\t\t\t\ttitlediv.className = \"info legend leaflet-control\";\n\t\t\t\t\t\t\ttitlediv.innerHTML = \"<b>Emisiones de Gases de Efecto Invernadero en media en Europa 2008-2024<\/b>\";\n\t\t\t\t\t\t\ttldiv.insertBefore(titlediv, tldiv.childNodes[0]);\n\t\t\t\t\t\t}).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<p>Visualizamos como claramente Alemania es el país que más GEI expulsa, seguido por Francia, Italia y Polonia.</p>
<section id="section" class="level246">
<p class="heading"></p>
</section>
</section>
</section>
<section id="depuración-de-los-datos-y-transformación-a-series-temporales." class="level2">
<h2 class="anchored" data-anchor-id="depuración-de-los-datos-y-transformación-a-series-temporales.">Depuración de los datos y transformación a series temporales.</h2>
<p>Para empezar vamos a filtrar nuestra base de datos y crear nuestros objetos en series temporales para su posterior analisis. Lo primero va a ser visualizar las gráficas para obtener información de su comportamiento.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'forecast' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>datosEU_THS_T <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unit<span class="sc">==</span><span class="st">"THS_T"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(nace_r2<span class="sc">==</span><span class="st">"TOTAL_HH"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(TIME_PERIOD)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>datosEU_THS_T.ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(datosEU_THS_T<span class="sc">$</span>values,<span class="at">end=</span><span class="fu">c</span>(<span class="dv">2025</span>,<span class="dv">1</span>),<span class="at">frequency =</span><span class="dv">4</span>)</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggtsdisplay</span>(datosEU_THS_T.ts,<span class="at">main=</span><span class="st">"Expulsion de gases de efecto invernadero en EUROPA"</span>,<span class="at">xlab=</span><span class="st">"AÑO"</span>,<span class="at">ylab=</span><span class="st">"MIlies de toneladas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>fitTHS <span class="ot">&lt;-</span> <span class="fu">decompose</span>(datosEU_THS_T.ts, <span class="at">type=</span><span class="st">'additive'</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(fitTHS)<span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Expulsion de gases de efecto invernadero en Europa"</span>,                   </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Tiempo"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles de toneladas"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">"Gears"</span>)<span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.
ℹ The deprecated feature was likely used in the forecast package.
  Please report the issue at &lt;https://github.com/robjhyndman/forecast/issues&gt;.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Ignoring unknown labels:
• colour : "Gears"</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se observa una estacionalidad trimestral super clara a parte de una tendencia decreciente a lo largo de toda la serie salvo por el momento del efecto inverso del covid. También observamos una falta de estacionariedad clara y por tanto ni nos fijamos en los coeficientes de autocorrelación.</p>
<p>Creamos otra grafica para visualizar Mejor:</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(datosEU_THS_T.ts, <span class="at">series=</span><span class="st">"Serie Temporal"</span>) <span class="sc">+</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autolayer</span>(<span class="fu">trendcycle</span>(fitTHS), <span class="at">series=</span><span class="st">"Tendencia"</span>) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Expulsión de gases de efecto invernadero en Europa"</span>,      </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Años"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Miles de toneladas"</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 4 rows containing missing values or values outside the scale range
(`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Una vez visualizado la tendencia de forma mas grafica pasamos a intentar entender mejor la estacionaidad de nuestra serie.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggseasonplot</span>(datosEU_THS_T.ts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(datosEU_THS_T<span class="sc">$</span>values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 734660  915330  958964  970101 1054939 1187357 </code></pre>
</div>
</div>
<p>Y como podemos observar, hay una clara estacionalidad. En los segundos y terceros trimestres del año los europeos expulsamos menos gases de efecto invernadero que en el primer y cuarto trimestre. Lo más probable debido a las temperaturas bajas de esos momentos(otoño/invierno) y el uso de energías contaminantes para la generación de calor.</p>
</section>
<section id="metodologia-box_jenkins" class="level2">
<h2 class="anchored" data-anchor-id="metodologia-box_jenkins">Metodologia Box_Jenkins</h2>
<section id="primera-etapaestacionarización-de-las-series." class="level3">
<h3 class="anchored" data-anchor-id="primera-etapaestacionarización-de-las-series.">Primera Etapa:Estacionarización de las series.</h3>
<p>Como habiamos dicho anteriormente se ha observado claramente falta de estacionariedad y por tanto tendremos que estabilizar la serie y desestacionalizarla.</p>
<section id="diferenciaciones." class="level4">
<h4 class="anchored" data-anchor-id="diferenciaciones.">Diferenciaciones.</h4>
<p>Pasamos a probar cuantas diferenciaciones serán necesarias para estabilizar las series.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ndiffs</span>(datosEU_THS_T.ts)<span class="co">#regulares</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nsdiffs</span>(datosEU_THS_T.ts)<span class="co">#estacionales</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Por tanto va a ser necesario realizar una diferencia regular y una estacional para estacionarizar las dos series temporales del estudio.</p>
<section id="diferenciación-regular" class="level5">
<h5 class="anchored" data-anchor-id="diferenciación-regular">Diferenciación Regular</h5>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>diff.datosEU_THS_T.ts<span class="ot">&lt;-</span><span class="fu">diff</span>(datosEU_THS_T.ts)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(datosEU_THS_T.ts,<span class="at">main=</span><span class="st">"serie sin diferenciar"</span>,<span class="at">col=</span><span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(diff.datosEU_THS_T.ts,<span class="at">main=</span><span class="st">"serie diferenciada regularmente"</span>,<span class="at">col=</span><span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">decompose</span>(diff.datosEU_THS_T.ts))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-14-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ahora observamos como las series se han estabilizado en media, pero siguen conteniendo la parte estacional y aleatoria del modelo, por ello tenemos que diferenciar estacionalmente.</p>
</section>
<section id="diferenciación-estacional" class="level5">
<h5 class="anchored" data-anchor-id="diferenciación-estacional">Diferenciación estacional</h5>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>diff.datosEU_THS_T.ts<span class="fl">.4</span><span class="ot">&lt;-</span><span class="fu">diff</span>(diff.datosEU_THS_T.ts, <span class="at">lag =</span> <span class="dv">4</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(datosEU_THS_T.ts,<span class="at">main=</span><span class="st">"serie sin diferenciar"</span>,<span class="at">col=</span><span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(diff.datosEU_THS_T.ts<span class="fl">.4</span>,<span class="at">main=</span><span class="st">"serie con una diferencia regular y otra estacional"</span>,<span class="at">col=</span><span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>No observamos heterocedasticidad y por tanto no va a ser necesaria hacer ninguna transformación logaritmica o de box-cox. A parte podemos confirmar como se ha eliminado la estacionalidad de la serie y por tanto podemos pasar a intentar visualizar las autocorrelaciones del modelo estacionario para que nos de una idea de que modelo ARIMA nos permitirá modelar dicha serie.</p>
<p>Una vez supuesta la hipótesis de estacionariedad hay que comprobarla y eso lo relizamos a traves del contraste dickey fuller aumentado.</p>
</section>
<section id="contraste-de-estacionariedad" class="level5">
<h5 class="anchored" data-anchor-id="contraste-de-estacionariedad">Contraste de Estacionariedad</h5>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tseries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tseries' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>adf<span class="ot">&lt;-</span><span class="fu">adf.test</span>(diff.datosEU_THS_T.ts<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in adf.test(diff.datosEU_THS_T.ts.4): p-value smaller than printed
p-value</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>adf<span class="sc">$</span>p.value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.01</code></pre>
</div>
</div>
<p>Hay evidencias estadísticas suficientes para rechazar la hipótesis nula de raiz unitaria ya que el pvalor obtenido es menor a 0.01, es decir, menor que el nivel de confianza del test. Por tanto la serie se puede considerar estacionaria en media y en varianza.</p>
</section>
</section>
<section id="visualización-de-las-autocorrelaciones." class="level4">
<h4 class="anchored" data-anchor-id="visualización-de-las-autocorrelaciones.">Visualización de las Autocorrelaciones.</h4>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Acf</span>(diff.datosEU_THS_T.ts<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Pacf</span>(diff.datosEU_THS_T.ts<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggtsdisplay</span>(diff.datosEU_THS_T.ts<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Observamos como decrece rapidamente la funcion de autocorrelacion simple y que en la función de autocorelacion parcial sobresale el primer y cuarto autorregresor, por tanto el modelo ARIMA puede que necesite un paremetro p=1 o 4 a parte de alguna diferenciación y por tanto su parametro d puede que tome el valor de la unidad también.</p>
</section>
</section>
<section id="segunda-etapamodelización-de-las-series." class="level3">
<h3 class="anchored" data-anchor-id="segunda-etapamodelización-de-las-series.">Segunda Etapa:Modelización de las series.</h3>
<section id="detección-de-los-modelos-arima" class="level4">
<h4 class="anchored" data-anchor-id="detección-de-los-modelos-arima">Detección de los modelos ARIMA</h4>
<p>Una vez que hayamos conseguido que la serie sea estacionaria para obtener información de sus autocorrelaciones es hora de identificicar los posibles modelos que mejor se ajusten a nuestra serie original. Para ello probamos distintos modelos ARIMA para a posteriori decidir cual nos convence mas a través de los estadísticos Akaike y BIC.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>arima1<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>arima2<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>arima3<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>arima4<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>arima5<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>arima6<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>arima7<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>arima8<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>arima9<span class="ot">&lt;-</span> <span class="fu">Arima</span>(datosEU_THS_T.ts, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">seasonal=</span><span class="fu">list</span>(<span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">period=</span><span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="elección-del-modelo-a-través-de-los-estadisticos." class="level4">
<h4 class="anchored" data-anchor-id="elección-del-modelo-a-través-de-los-estadisticos.">Elección del modelo a través de los estadisticos.</h4>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Para la serie de miles de toneladas</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(arima1,arima2,arima3,arima4,arima5,arima6,arima7,arima8,arima9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in AIC.default(arima1, arima2, arima3, arima4, arima5, arima6, arima7,
: No todos los modelos se han ajustado usando el mismo número de observaciones</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>       df      AIC
arima1  4 1317.362
arima2  4 1318.073
arima3  4 1327.749
arima4  5 1317.122
arima5  6 1318.990
arima6  3 1315.776
arima7  3 1325.758
arima8  3 1339.630
arima9  2 1316.630</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">BIC</span>(arima1,arima2,arima3,arima4,arima5,arima6,arima7,arima8,arima9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in BIC.default(arima1, arima2, arima3, arima4, arima5, arima6, arima7,
: No todos los modelos se han ajustado usando el mismo número de observaciones</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>       df      BIC
arima1  4 1325.464
arima2  4 1326.175
arima3  4 1335.850
arima4  5 1327.249
arima5  6 1331.142
arima6  3 1321.852
arima7  3 1331.834
arima8  3 1345.759
arima9  2 1320.681</code></pre>
</div>
</div>
<p>Según el estadístico akaike el modelo que minimiza la perdida de informacíon sería el arima6 y luego el arima9;</p>
<p>ARIMA6 (p=0,d=1,q=1)(P=0,D=1,Q=1)4</p>
<p>ARIMA9 (p=0,d=1,q=0)(P=0,D=1,Q=1)4</p>
</section>
<section id="diagnosis-del-modelo-a-través-de-los-residuos." class="level4">
<h4 class="anchored" data-anchor-id="diagnosis-del-modelo-a-través-de-los-residuos.">Diagnosis del modelo a través de los residuos.</h4>
<p>visualizamos los errores de los modelos para luego contrstar la normalidad de estos:</p>
<p>En modelos ARIMA para series macroeconómicas o ambientales, la normalidad perfecta de residuos rara vez se cumple.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(arima6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(0,1,1)(0,1,1)[4]
Q* = 7.8306, df = 6, p-value = 0.2508

Model df: 2.   Total lags used: 8</code></pre>
</div>
</div>
<p>Tu SARIMA(0,1,1)(0,1,1)[4] es válido estadísticamente. Es normal que Shapiro-Wilk dé p &lt; 0.05 aunque Ljung-Box sea correcto. Lo importante aquí es el Ljung-Box, no la normalidad perfecta.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(arima9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(0,1,0)(0,1,1)[4]
Q* = 12.363, df = 7, p-value = 0.08922

Model df: 1.   Total lags used: 8</code></pre>
</div>
</div>
<p>Vamos que el pvalor de este arima9 es bastante peor que el del arima6, y como los estadísticos akaike y BIC también les pasaba levemente eso lo descartamos y nos quedamos definitivamente con el modelo arima6.</p>
<p>Ahora pasamos a ver si los parametros de nuestros modelos son significativos.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmtest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lmtest' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Cargando paquete requerido: zoo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'zoo' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(arima6) <span class="co">#el parámetro de media movil etsacional sale significativo.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
z test of coefficients:

     Estimate Std. Error z value  Pr(&gt;|z|)    
ma1  -0.24465    0.13965 -1.7519   0.07978 .  
sma1 -0.81723    0.11101 -7.3618 1.814e-13 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>En el modelo SARIMA(0,1,1)(0,1,1)[4], el coeficiente estacional SMA(1) resulta altamente significativo (p &lt; 0.001), lo que confirma una fuerte dependencia estacional trimestral en las emisiones de gases de efecto invernadero de la UE. El coeficiente MA(1) presenta un valor próximo a la significación estadística (p ≈ 0.08), lo cual, junto con los criterios de información más bajos y la ausencia de autocorrelación en los residuos, justifica su inclusión. Por tanto, el modelo se considera adecuadamente especificado para realizar pronósticos.</p>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Box.test</span>(arima6<span class="sc">$</span>residuals, <span class="at">lag =</span> <span class="dv">20</span>, <span class="at">type =</span> <span class="st">"Ljung-Box"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Box-Ljung test

data:  arima6$residuals
X-squared = 17.535, df = 20, p-value = 0.618</code></pre>
</div>
</div>
<p>Como el p-valore(0.618) supera al nivel de significación 0.05, afirmamos la hipótesis nula y por tanto confirmamos que los residuos estan incorrelados. De tal manera ahora tenemos nuestro modelo comprobado y podemos pasar a predecir con el.</p>
</section>
</section>
<section id="tercera-etapa-predicción." class="level3">
<h3 class="anchored" data-anchor-id="tercera-etapa-predicción.">Tercera etapa: Predicción.</h3>
<p>Pasamos a visualizar las predicciones para la serie de toneladas de gases de efecto invernadero expulsados per cápita.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dygraphs)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Escalar a millones de toneladas</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>serie_mill <span class="ot">&lt;-</span> datosEU_THS_T.ts <span class="sc">/</span> <span class="fl">1e6</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Forecast y escala</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>prediccionesTHS <span class="ot">&lt;-</span> <span class="fu">forecast</span>(arima6, <span class="at">level =</span> <span class="dv">95</span>, <span class="at">h =</span> <span class="dv">10</span>)</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>pred_mill <span class="ot">&lt;-</span> prediccionesTHS<span class="sc">$</span>mean <span class="sc">/</span> <span class="fl">1e6</span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dygraph</span>(</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="at">Serie =</span> serie_mill, Predicción <span class="ot">=</span> pred_mill),</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"GEI expulsados por la UE"</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dySeries</span>(<span class="st">"Serie"</span>, <span class="at">label =</span> <span class="st">"Histórico"</span>, <span class="at">strokeWidth =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dySeries</span>(<span class="st">"Predicción"</span>, <span class="at">label =</span> <span class="st">"Pronóstico"</span>, <span class="at">strokeWidth =</span> <span class="dv">3</span>, <span class="at">strokePattern =</span> <span class="st">"dashed"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyAxis</span>(<span class="st">"y"</span>, <span class="at">label =</span> <span class="st">"Millones de toneladas"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyAxis</span>(<span class="st">"x"</span>, <span class="at">label =</span> <span class="st">"Año"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyOptions</span>(</span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">drawGrid =</span> <span class="cn">TRUE</span>,</span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">useDataTimezone =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillGraph =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">strokeWidth =</span> <span class="dv">2</span>,</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">titleHeight =</span> <span class="dv">40</span></span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyLegend</span>(<span class="at">show =</span> <span class="st">"always"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyHighlight</span>(</span>
<span id="cb91-28"><a href="#cb91-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightCircleSize =</span> <span class="dv">5</span>,</span>
<span id="cb91-29"><a href="#cb91-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightSeriesBackgroundAlpha =</span> <span class="fl">0.25</span>,</span>
<span id="cb91-30"><a href="#cb91-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">hideOnMouseOut =</span> <span class="cn">FALSE</span></span>
<span id="cb91-31"><a href="#cb91-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb91-32"><a href="#cb91-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyRangeSelector</span>(<span class="at">height =</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-00b7dfb0adf816c4ea37" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-00b7dfb0adf816c4ea37">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"series":{"Histórico":{"axis":"y","strokeWidth":2},"Pronóstico":{"axis":"y","strokeWidth":3,"strokePattern":[7,3]}},"title":"GEI expulsados por la UE","labels":["quarter","Histórico","Pronóstico"],"retainDateWindow":false,"ylabel":"Millones de toneladas","xlabel":"Año","stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"titleHeight":40,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"highlightCircleSize":5,"highlightSeriesBackgroundAlpha":0.25,"highlightSeriesOpts":[],"hideOverlayOnMouseOut":false,"showRangeSelector":true,"rangeSelectorHeight":30,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"quarterly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2010-01-01T00:00:00.000Z","2010-04-01T00:00:00.000Z","2010-07-01T00:00:00.000Z","2010-10-01T00:00:00.000Z","2011-01-01T00:00:00.000Z","2011-04-01T00:00:00.000Z","2011-07-01T00:00:00.000Z","2011-10-01T00:00:00.000Z","2012-01-01T00:00:00.000Z","2012-04-01T00:00:00.000Z","2012-07-01T00:00:00.000Z","2012-10-01T00:00:00.000Z","2013-01-01T00:00:00.000Z","2013-04-01T00:00:00.000Z","2013-07-01T00:00:00.000Z","2013-10-01T00:00:00.000Z","2014-01-01T00:00:00.000Z","2014-04-01T00:00:00.000Z","2014-07-01T00:00:00.000Z","2014-10-01T00:00:00.000Z","2015-01-01T00:00:00.000Z","2015-04-01T00:00:00.000Z","2015-07-01T00:00:00.000Z","2015-10-01T00:00:00.000Z","2016-01-01T00:00:00.000Z","2016-04-01T00:00:00.000Z","2016-07-01T00:00:00.000Z","2016-10-01T00:00:00.000Z","2017-01-01T00:00:00.000Z","2017-04-01T00:00:00.000Z","2017-07-01T00:00:00.000Z","2017-10-01T00:00:00.000Z","2018-01-01T00:00:00.000Z","2018-04-01T00:00:00.000Z","2018-07-01T00:00:00.000Z","2018-10-01T00:00:00.000Z","2019-01-01T00:00:00.000Z","2019-04-01T00:00:00.000Z","2019-07-01T00:00:00.000Z","2019-10-01T00:00:00.000Z","2020-01-01T00:00:00.000Z","2020-04-01T00:00:00.000Z","2020-07-01T00:00:00.000Z","2020-10-01T00:00:00.000Z","2021-01-01T00:00:00.000Z","2021-04-01T00:00:00.000Z","2021-07-01T00:00:00.000Z","2021-10-01T00:00:00.000Z","2022-01-01T00:00:00.000Z","2022-04-01T00:00:00.000Z","2022-07-01T00:00:00.000Z","2022-10-01T00:00:00.000Z","2023-01-01T00:00:00.000Z","2023-04-01T00:00:00.000Z","2023-07-01T00:00:00.000Z","2023-10-01T00:00:00.000Z","2024-01-01T00:00:00.000Z","2024-04-01T00:00:00.000Z","2024-07-01T00:00:00.000Z","2024-10-01T00:00:00.000Z","2025-01-01T00:00:00.000Z","2025-04-01T00:00:00.000Z","2025-07-01T00:00:00.000Z","2025-10-01T00:00:00.000Z","2026-01-01T00:00:00.000Z","2026-04-01T00:00:00.000Z","2026-07-01T00:00:00.000Z","2026-10-01T00:00:00.000Z","2027-01-01T00:00:00.000Z","2027-04-01T00:00:00.000Z","2027-07-01T00:00:00.000Z"],[1.17590239,1.029454973,1.00070847,1.187357218,1.165620153,1.00379981,0.979639544,1.130471079,1.157112922,0.990020445,0.960792764,1.099878248,1.118829637,0.965008329,0.94467027,1.078583788,1.045669549,0.934741519,0.920702125,1.054792715,1.07255151,0.941090579,0.9416507589999999,1.061383213,1.062460096,0.941333625,0.9239332219999999,1.093355492,1.096460516,0.9589636629999999,0.9365315790000001,1.072870715,1.087410726,0.9239754259999999,0.930034569,1.054938545,1.035496888,0.915330143,0.8884914939999999,0.998502007,0.961089101,0.73465981,0.817853343,0.947917993,0.950910429,0.8611731459999999,0.85066665,0.9920443590000001,0.970133566,0.861046471,0.845559073,0.928819437,0.916126997,0.799418677,0.7715405089999999,0.8777894669999999,0.870804388,0.7750197090000001,0.7663937120000001,0.896421927,0.900270414,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.7704229866363255,0.7627624480067871,0.8864020124043563,0.8799606981754513,0.7531050828348065,0.7454445442052682,0.8690841086028375,0.8626427943739323,0.7357871790332876,0.7281266404037492]],"fixedtz":false,"tzone":""},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>
<p>Ahora voy a graficar los datos de una forma que pueda comparar los trimestres de cada año de una forma clara y visual.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)     <span class="co"># para yearqtr</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># para etiquetas bonitas</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Escala a millones</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>serie_mill <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(datosEU_THS_T.ts) <span class="sc">/</span> <span class="fl">1e6</span> <span class="co">#Así las unidades están en millones de toneladas</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>ti <span class="ot">&lt;-</span> <span class="fu">as.yearqtr</span>(<span class="fu">time</span>(datosEU_THS_T.ts)) <span class="co">#Formato de cuartos de año para poder visualizar bien</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>df_q <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year    =</span> <span class="fu">as.integer</span>(<span class="fu">format</span>(ti, <span class="st">"%Y"</span>)),</span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Quarter =</span> <span class="fu">factor</span>(<span class="fu">format</span>(ti, <span class="st">"Q%q"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Q1"</span>,<span class="st">"Q2"</span>,<span class="st">"Q3"</span>,<span class="st">"Q4"</span>)),</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value   =</span> serie_mill</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_q, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Year), <span class="at">y =</span> Quarter, <span class="at">fill =</span> Value)) <span class="sc">+</span></span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Mill. t"</span>) <span class="sc">+</span></span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa de calor: emisiones por trimestre y año"</span>,</span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Trimestre"</span>) <span class="sc">+</span></span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_q, <span class="fu">aes</span>(<span class="at">x =</span> Quarter, <span class="at">y =</span> Value)) <span class="sc">+</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">big.mark =</span> <span class="st">"."</span>, <span class="at">decimal.mark =</span> <span class="st">","</span>)) <span class="sc">+</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución histórica por trimestre"</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Trimestre"</span>, <span class="at">y =</span> <span class="st">"Millones de toneladas"</span>) <span class="sc">+</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="GCEU_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>En el mapa de calor y en este gráfico boxplot segmentado por trimestres se aprecia muy bien la estacionalidad de los datos.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1) Serie y forecast en millones ---</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>serie_mill <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(datosEU_THS_T.ts) <span class="sc">/</span> <span class="fl">1e6</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">forecast</span>(arima6, <span class="at">h =</span> <span class="dv">10</span>)</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>pred_mill <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(pred<span class="sc">$</span>mean) <span class="sc">/</span> <span class="fl">1e6</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2) Índices de tiempo correctos (trimestral) ---</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>ti_hist <span class="ot">&lt;-</span> <span class="fu">as.yearqtr</span>(<span class="fu">time</span>(datosEU_THS_T.ts))</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>ti_pred <span class="ot">&lt;-</span> <span class="fu">as.yearqtr</span>(<span class="fu">time</span>(pred<span class="sc">$</span>mean))</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>df_hist <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year    =</span> <span class="fu">as.integer</span>(<span class="fu">format</span>(ti_hist, <span class="st">"%Y"</span>)),</span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Quarter =</span> <span class="fu">factor</span>(<span class="fu">format</span>(ti_hist, <span class="st">"Q%q"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Q1"</span>,<span class="st">"Q2"</span>,<span class="st">"Q3"</span>,<span class="st">"Q4"</span>)),</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value   =</span> serie_mill,</span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">Pred    =</span> <span class="cn">FALSE</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a>df_pred <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year    =</span> <span class="fu">as.integer</span>(<span class="fu">format</span>(ti_pred, <span class="st">"%Y"</span>)),</span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">Quarter =</span> <span class="fu">factor</span>(<span class="fu">format</span>(ti_pred, <span class="st">"Q%q"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Q1"</span>,<span class="st">"Q2"</span>,<span class="st">"Q3"</span>,<span class="st">"Q4"</span>)),</span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value   =</span> pred_mill,</span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">Pred    =</span> <span class="cn">TRUE</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_hist, df_pred) <span class="sc">%&gt;%</span></span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Year, Quarter)</span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3) Pasar a formato ancho (años x trimestres) ---</span></span>
<span id="cb94-34"><a href="#cb94-34" aria-hidden="true" tabindex="-1"></a>value_wide <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb94-35"><a href="#cb94-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, Quarter, Value) <span class="sc">%&gt;%</span></span>
<span id="cb94-36"><a href="#cb94-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Quarter, <span class="at">values_from =</span> Value) <span class="sc">%&gt;%</span></span>
<span id="cb94-37"><a href="#cb94-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Year)</span>
<span id="cb94-38"><a href="#cb94-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-39"><a href="#cb94-39" aria-hidden="true" tabindex="-1"></a>flag_wide <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb94-40"><a href="#cb94-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, Quarter, Pred) <span class="sc">%&gt;%</span></span>
<span id="cb94-41"><a href="#cb94-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Quarter, <span class="at">values_from =</span> Pred) <span class="sc">%&gt;%</span></span>
<span id="cb94-42"><a href="#cb94-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb94-43"><a href="#cb94-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Q1_pred =</span> Q1, <span class="at">Q2_pred =</span> Q2, <span class="at">Q3_pred =</span> Q3, <span class="at">Q4_pred =</span> Q4)</span>
<span id="cb94-44"><a href="#cb94-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-45"><a href="#cb94-45" aria-hidden="true" tabindex="-1"></a>tabla <span class="ot">&lt;-</span> value_wide <span class="sc">%&gt;%</span></span>
<span id="cb94-46"><a href="#cb94-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(flag_wide, <span class="at">by =</span> <span class="st">"Year"</span>)</span>
<span id="cb94-47"><a href="#cb94-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-48"><a href="#cb94-48" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4) Tabla interactiva con predicciones coloreadas ---</span></span>
<span id="cb94-49"><a href="#cb94-49" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(</span>
<span id="cb94-50"><a href="#cb94-50" aria-hidden="true" tabindex="-1"></a>  tabla,</span>
<span id="cb94-51"><a href="#cb94-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb94-52"><a href="#cb94-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Emisiones por año y trimestre (millones de toneladas). Las celdas coloreadas son predicciones."</span>,</span>
<span id="cb94-53"><a href="#cb94-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb94-54"><a href="#cb94-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">50</span>,</span>
<span id="cb94-55"><a href="#cb94-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">"tip"</span>,</span>
<span id="cb94-56"><a href="#cb94-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb94-57"><a href="#cb94-57" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Ocultar columnas auxiliares de predicción</span></span>
<span id="cb94-58"><a href="#cb94-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">visible =</span> <span class="cn">FALSE</span>,</span>
<span id="cb94-59"><a href="#cb94-59" aria-hidden="true" tabindex="-1"></a>           <span class="at">targets =</span> <span class="fu">which</span>(<span class="fu">names</span>(tabla) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Q1_pred"</span>,<span class="st">"Q2_pred"</span>,<span class="st">"Q3_pred"</span>,<span class="st">"Q4_pred"</span>)) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb94-60"><a href="#cb94-60" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb94-61"><a href="#cb94-61" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-62"><a href="#cb94-62" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb94-63"><a href="#cb94-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">"Q1"</span>,<span class="st">"Q2"</span>,<span class="st">"Q3"</span>,<span class="st">"Q4"</span>), <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-64"><a href="#cb94-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Colorear las predicciones usando las columnas *_pred ocultas</span></span>
<span id="cb94-65"><a href="#cb94-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Q1'</span>, <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">c</span>(<span class="st">"#e3f2fd"</span>, <span class="st">"white"</span>)),</span>
<span id="cb94-66"><a href="#cb94-66" aria-hidden="true" tabindex="-1"></a>              <span class="at">valueColumns =</span> <span class="st">"Q1_pred"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-67"><a href="#cb94-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Q2'</span>, <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">c</span>(<span class="st">"#e3f2fd"</span>, <span class="st">"white"</span>)),</span>
<span id="cb94-68"><a href="#cb94-68" aria-hidden="true" tabindex="-1"></a>              <span class="at">valueColumns =</span> <span class="st">"Q2_pred"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-69"><a href="#cb94-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Q3'</span>, <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">c</span>(<span class="st">"#e3f2fd"</span>, <span class="st">"white"</span>)),</span>
<span id="cb94-70"><a href="#cb94-70" aria-hidden="true" tabindex="-1"></a>              <span class="at">valueColumns =</span> <span class="st">"Q3_pred"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-71"><a href="#cb94-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">'Q4'</span>, <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">c</span>(<span class="st">"#e3f2fd"</span>, <span class="st">"white"</span>)),</span>
<span id="cb94-72"><a href="#cb94-72" aria-hidden="true" tabindex="-1"></a>              <span class="at">valueColumns =</span> <span class="st">"Q4_pred"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-9771b4c0f1a32869b5d1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9771b4c0f1a32869b5d1">{"x":{"filter":"none","vertical":false,"caption":"<caption>Emisiones por año y trimestre (millones de toneladas). Las celdas coloreadas son predicciones.<\/caption>","data":[[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027],[1.17590239,1.165620153,1.157112922,1.118829637,1.045669549,1.07255151,1.062460096,1.096460516,1.087410726,1.035496888,0.961089101,0.950910429,0.970133566,0.916126997,0.870804388,0.900270414,0.8799606981754513,0.8626427943739323],[1.029454973,1.00379981,0.990020445,0.965008329,0.934741519,0.941090579,0.941333625,0.9589636629999999,0.9239754259999999,0.915330143,0.73465981,0.8611731459999999,0.861046471,0.799418677,0.7750197090000001,0.7704229866363255,0.7531050828348065,0.7357871790332876],[1.00070847,0.979639544,0.960792764,0.94467027,0.920702125,0.9416507589999999,0.9239332219999999,0.9365315790000001,0.930034569,0.8884914939999999,0.817853343,0.85066665,0.845559073,0.7715405089999999,0.7663937120000001,0.7627624480067871,0.7454445442052682,0.7281266404037492],[1.187357218,1.130471079,1.099878248,1.078583788,1.054792715,1.061383213,1.093355492,1.072870715,1.054938545,0.998502007,0.947917993,0.9920443590000001,0.928819437,0.8777894669999999,0.896421927,0.8864020124043563,0.8690841086028375,null],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Year<\/th>\n      <th>Q1<\/th>\n      <th>Q2<\/th>\n      <th>Q3<\/th>\n      <th>Q4<\/th>\n      <th>Q1_pred<\/th>\n      <th>Q2_pred<\/th>\n      <th>Q3_pred<\/th>\n      <th>Q4_pred<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":50,"dom":"tip","columnDefs":[{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"visible":false,"targets":[5,6,7,8]},{"className":"dt-right","targets":[0,1,2,3,4]},{"name":"Year","targets":0},{"name":"Q1","targets":1},{"name":"Q2","targets":2},{"name":"Q3","targets":3},{"name":"Q4","targets":4},{"name":"Q1_pred","targets":5},{"name":"Q2_pred","targets":6},{"name":"Q3_pred","targets":7},{"name":"Q4_pred","targets":8}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[5]; $(this.api().cell(row, 1).node()).css({'background-color':value == true ? \"#e3f2fd\" : value == false ? \"white\" : null});\nvar value=data[6]; $(this.api().cell(row, 2).node()).css({'background-color':value == true ? \"#e3f2fd\" : value == false ? \"white\" : null});\nvar value=data[7]; $(this.api().cell(row, 3).node()).css({'background-color':value == true ? \"#e3f2fd\" : value == false ? \"white\" : null});\nvar value=data[8]; $(this.api().cell(row, 4).node()).css({'background-color':value == true ? \"#e3f2fd\" : value == false ? \"white\" : null});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p>##Conclusiones</p>
<p>El análisis realizado permite caracterizar con precisión la evolución reciente de las emisiones de gases de efecto invernadero en Europa y ofrecer una proyección sólida a corto y medio plazo. Tras el ajuste y validación del modelo SARIMA(0,1,1)(0,1,1)[4], los resultados muestran una continuidad en la tendencia descendente observada durante la última década, marcada tanto por mejoras tecnológicas como por políticas climáticas más estrictas.</p>
<p>Las previsiones a partir del segundo trimestre de 2025 indican que las emisiones seguirán reduciéndose de forma moderada y estable. En términos intertrimestrales, se espera que los valores permanezcan dentro de rangos similares a los actuales, mientras que la evolución interanual anticipa disminuciones progresivas y consistentes. Por ejemplo, los niveles estimados para 2026 y 2027 continúan situándose por debajo de los registrados en 2024 y 2025, consolidando una trayectoria de descenso estructural.</p>
<p>El patrón estacional —con mínimos habituales en los trimestres centrales del año y repuntes suaves en invierno— se mantiene, pero en todos los casos con valores más bajos respecto a años anteriores. Esto sugiere que el proceso de descarbonización europeo no solo continúa, sino que se profundiza.</p>
<p>En conjunto, el análisis confirma que Europa avanza hacia una reducción sostenida de sus emisiones, sin indicios de incrementos significativos a corto plazo. Las previsiones reforzan la conclusión de que las medidas implementadas están teniendo un efecto apreciable, y que, salvo perturbaciones externas importantes, la tendencia decreciente se mantendrá más allá de 2027.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>